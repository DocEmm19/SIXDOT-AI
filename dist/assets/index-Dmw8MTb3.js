(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var cc={exports:{}},fi={},dc={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yn=Symbol.for("react.element"),rf=Symbol.for("react.portal"),nf=Symbol.for("react.fragment"),sf=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),af=Symbol.for("react.provider"),lf=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),df=Symbol.for("react.memo"),hf=Symbol.for("react.lazy"),Tl=Symbol.iterator;function ff(t){return t===null||typeof t!="object"?null:(t=Tl&&t[Tl]||t["@@iterator"],typeof t=="function"?t:null)}var hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fc=Object.assign,pc={};function Xr(t,e,r){this.props=t,this.context=e,this.refs=pc,this.updater=r||hc}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mc(){}mc.prototype=Xr.prototype;function ja(t,e,r){this.props=t,this.context=e,this.refs=pc,this.updater=r||hc}var Ea=ja.prototype=new mc;Ea.constructor=ja;fc(Ea,Xr.prototype);Ea.isPureReactComponent=!0;var Cl=Array.isArray,gc=Object.prototype.hasOwnProperty,Na={current:null},vc={key:!0,ref:!0,__self:!0,__source:!0};function yc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)gc.call(e,n)&&!vc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Yn,type:t,key:i,ref:o,props:s,_owner:Na.current}}function pf(t,e){return{$$typeof:Yn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ta(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yn}function mf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Pl=/\/+/g;function Mi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mf(""+t.key):e.toString(36)}function Cs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yn:case rf:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Mi(o,0):n,Cl(s)?(r="",t!=null&&(r=t.replace(Pl,"$&/")+"/"),Cs(s,e,r,"",function(c){return c})):s!=null&&(Ta(s)&&(s=pf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Cl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Mi(i,a);o+=Cs(i,e,r,l,s)}else if(l=ff(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Mi(i,a++),o+=Cs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function os(t,e,r){if(t==null)return t;var n=[],s=0;return Cs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function gf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oe={current:null},Ps={transition:null},vf={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:Na};function wc(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:os,forEach:function(t,e,r){os(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return os(t,function(){e++}),e},toArray:function(t){return os(t,function(e){return e})||[]},only:function(t){if(!Ta(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=Xr;q.Fragment=nf;q.Profiler=of;q.PureComponent=ja;q.StrictMode=sf;q.Suspense=cf;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vf;q.act=wc;q.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=fc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Na.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gc.call(e,l)&&!vc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Yn,type:t.type,key:s,ref:i,props:n,_owner:o}};q.createContext=function(t){return t={$$typeof:lf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:af,_context:t},t.Consumer=t};q.createElement=yc;q.createFactory=function(t){var e=yc.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:uf,render:t}};q.isValidElement=Ta;q.lazy=function(t){return{$$typeof:hf,_payload:{_status:-1,_result:t},_init:gf}};q.memo=function(t,e){return{$$typeof:df,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=Ps.transition;Ps.transition={};try{t()}finally{Ps.transition=e}};q.unstable_act=wc;q.useCallback=function(t,e){return Oe.current.useCallback(t,e)};q.useContext=function(t){return Oe.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return Oe.current.useDeferredValue(t)};q.useEffect=function(t,e){return Oe.current.useEffect(t,e)};q.useId=function(){return Oe.current.useId()};q.useImperativeHandle=function(t,e,r){return Oe.current.useImperativeHandle(t,e,r)};q.useInsertionEffect=function(t,e){return Oe.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return Oe.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return Oe.current.useMemo(t,e)};q.useReducer=function(t,e,r){return Oe.current.useReducer(t,e,r)};q.useRef=function(t){return Oe.current.useRef(t)};q.useState=function(t){return Oe.current.useState(t)};q.useSyncExternalStore=function(t,e,r){return Oe.current.useSyncExternalStore(t,e,r)};q.useTransition=function(){return Oe.current.useTransition()};q.version="18.3.1";dc.exports=q;var M=dc.exports;const wo=ef(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=M,wf=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),_f=Object.prototype.hasOwnProperty,bf=yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kf={key:!0,ref:!0,__self:!0,__source:!0};function xc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)_f.call(e,n)&&!kf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:wf,type:t,key:i,ref:o,props:s,_owner:bf.current}}fi.Fragment=xf;fi.jsx=xc;fi.jsxs=xc;cc.exports=fi;var u=cc.exports,_c={exports:{}},We={},bc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,_){var y=N.length;N.push(_);e:for(;0<y;){var j=y-1>>>1,A=N[j];if(0<s(A,_))N[j]=_,N[y]=A,y=j;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var _=N[0],y=N.pop();if(y!==_){N[0]=y;e:for(var j=0,A=N.length,k=A>>>1;j<k;){var E=2*(j+1)-1,I=N[E],U=E+1,z=N[U];if(0>s(I,y))U<A&&0>s(z,I)?(N[j]=z,N[U]=y,j=U):(N[j]=I,N[E]=y,j=E);else if(U<A&&0>s(z,y))N[j]=z,N[U]=y,j=U;else break e}}return _}function s(N,_){var y=N.sortIndex-_.sortIndex;return y!==0?y:N.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,x=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var _=r(c);_!==null;){if(_.callback===null)n(c);else if(_.startTime<=N)n(c),_.sortIndex=_.expirationTime,e(l,_);else break;_=r(c)}}function w(N){if(b=!1,m(N),!x)if(r(l)!==null)x=!0,ge(T);else{var _=r(c);_!==null&&D(w,_.startTime-N)}}function T(N,_){x=!1,b&&(b=!1,g(O),O=-1),v=!0;var y=p;try{for(m(_),h=r(l);h!==null&&(!(h.expirationTime>_)||N&&!W());){var j=h.callback;if(typeof j=="function"){h.callback=null,p=h.priorityLevel;var A=j(h.expirationTime<=_);_=t.unstable_now(),typeof A=="function"?h.callback=A:h===r(l)&&n(l),m(_)}else n(l);h=r(l)}if(h!==null)var k=!0;else{var E=r(c);E!==null&&D(w,E.startTime-_),k=!1}return k}finally{h=null,p=y,v=!1}}var S=!1,C=null,O=-1,F=5,R=-1;function W(){return!(t.unstable_now()-R<F)}function X(){if(C!==null){var N=t.unstable_now();R=N;var _=!0;try{_=C(!0,N)}finally{_?ce():(S=!1,C=null)}}else S=!1}var ce;if(typeof f=="function")ce=function(){f(X)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,H=ke.port2;ke.port1.onmessage=X,ce=function(){H.postMessage(null)}}else ce=function(){P(X,0)};function ge(N){C=N,S||(S=!0,ce())}function D(N,_){O=P(function(){N(t.unstable_now())},_)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,ge(T))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(p){case 1:case 2:case 3:var _=3;break;default:_=p}var y=p;p=_;try{return N()}finally{p=y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,_){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var y=p;p=N;try{return _()}finally{p=y}},t.unstable_scheduleCallback=function(N,_,y){var j=t.unstable_now();switch(typeof y=="object"&&y!==null?(y=y.delay,y=typeof y=="number"&&0<y?j+y:j):y=j,N){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=y+A,N={id:d++,callback:_,priorityLevel:N,startTime:y,expirationTime:A,sortIndex:-1},y>j?(N.sortIndex=y,e(c,N),r(l)===null&&N===r(c)&&(b?(g(O),O=-1):b=!0,D(w,y-j))):(N.sortIndex=A,e(l,N),x||v||(x=!0,ge(T))),N},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(N){var _=p;return function(){var y=p;p=_;try{return N.apply(this,arguments)}finally{p=y}}}})(kc);bc.exports=kc;var Sf=bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=M,Be=Sf;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sc=new Set,Ln={};function pr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(Ln[t]=e,t=0;t<e.length;t++)Sc.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=Object.prototype.hasOwnProperty,Ef=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ol={},Ll={};function Nf(t){return xo.call(Ll,t)?!0:xo.call(Ol,t)?!1:Ef.test(t)?Ll[t]=!0:(Ol[t]=!0,!1)}function Tf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Cf(t,e,r,n){if(e===null||typeof e>"u"||Tf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ca=/[\-:]([a-z])/g;function Pa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ca,Pa);be[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ca,Pa);be[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ca,Pa);be[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function Oa(t,e,r,n){var s=be.hasOwnProperty(e)?be[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Cf(e,r,s,n)&&(r=null),n||s===null?Nf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var jt=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),La=Symbol.for("react.strict_mode"),_o=Symbol.for("react.profiler"),jc=Symbol.for("react.provider"),Ec=Symbol.for("react.context"),Aa=Symbol.for("react.forward_ref"),bo=Symbol.for("react.suspense"),ko=Symbol.for("react.suspense_list"),Ra=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Nc=Symbol.for("react.offscreen"),Al=Symbol.iterator;function sn(t){return t===null||typeof t!="object"?null:(t=Al&&t[Al]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,Ui;function pn(t){if(Ui===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ui=e&&e[1]||""}return`
`+Ui+t}var Di=!1;function zi(t,e){if(!t||Di)return"";Di=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Di=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?pn(t):""}function Pf(t){switch(t.tag){case 5:return pn(t.type);case 16:return pn("Lazy");case 13:return pn("Suspense");case 19:return pn("SuspenseList");case 0:case 2:case 15:return t=zi(t.type,!1),t;case 11:return t=zi(t.type.render,!1),t;case 1:return t=zi(t.type,!0),t;default:return""}}function So(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nr:return"Fragment";case Er:return"Portal";case _o:return"Profiler";case La:return"StrictMode";case bo:return"Suspense";case ko:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ec:return(t.displayName||"Context")+".Consumer";case jc:return(t._context.displayName||"Context")+".Provider";case Aa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ra:return e=t.displayName||null,e!==null?e:So(t.type)||"Memo";case Ct:e=t._payload,t=t._init;try{return So(t(e))}catch{}}return null}function Of(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return So(e);case 8:return e===La?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ht(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lf(t){var e=Tc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ls(t){t._valueTracker||(t._valueTracker=Lf(t))}function Cc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Tc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jo(t,e){var r=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Rl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ht(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pc(t,e){e=e.checked,e!=null&&Oa(t,"checked",e,!1)}function Eo(t,e){Pc(t,e);var r=Ht(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?No(t,e.type,r):e.hasOwnProperty("defaultValue")&&No(t,e.type,Ht(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Il(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function No(t,e,r){(e!=="number"||Fs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var mn=Array.isArray;function Ur(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function To(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $l(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(L(92));if(mn(r)){if(1<r.length)throw Error(L(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ht(r)}}function Oc(t,e){var r=Ht(e.value),n=Ht(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ml(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Co(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var us,Ac=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function An(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Af=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(t){Af.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wn[e]=wn[t]})});function Rc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wn.hasOwnProperty(t)&&wn[t]?(""+e).trim():e+"px"}function Ic(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Rc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Rf=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(t,e){if(e){if(Rf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Oo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=null;function Ia(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ao=null,Dr=null,zr=null;function Ul(t){if(t=es(t)){if(typeof Ao!="function")throw Error(L(280));var e=t.stateNode;e&&(e=yi(e),Ao(t.stateNode,t.type,e))}}function $c(t){Dr?zr?zr.push(t):zr=[t]:Dr=t}function Mc(){if(Dr){var t=Dr,e=zr;if(zr=Dr=null,Ul(t),e)for(t=0;t<e.length;t++)Ul(e[t])}}function Uc(t,e){return t(e)}function Dc(){}var Fi=!1;function zc(t,e,r){if(Fi)return t(e,r);Fi=!0;try{return Uc(t,e,r)}finally{Fi=!1,(Dr!==null||zr!==null)&&(Dc(),Mc())}}function Rn(t,e){var r=t.stateNode;if(r===null)return null;var n=yi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(L(231,e,typeof r));return r}var Ro=!1;if(_t)try{var on={};Object.defineProperty(on,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{Ro=!1}function If(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var xn=!1,Bs=null,Ws=!1,Io=null,$f={onError:function(t){xn=!0,Bs=t}};function Mf(t,e,r,n,s,i,o,a,l){xn=!1,Bs=null,If.apply($f,arguments)}function Uf(t,e,r,n,s,i,o,a,l){if(Mf.apply(this,arguments),xn){if(xn){var c=Bs;xn=!1,Bs=null}else throw Error(L(198));Ws||(Ws=!0,Io=c)}}function mr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Fc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dl(t){if(mr(t)!==t)throw Error(L(188))}function Df(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(L(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Dl(s),t;if(i===n)return Dl(s),e;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?t:e}function Bc(t){return t=Df(t),t!==null?Wc(t):null}function Wc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wc(t);if(e!==null)return e;t=t.sibling}return null}var Hc=Be.unstable_scheduleCallback,zl=Be.unstable_cancelCallback,zf=Be.unstable_shouldYield,Ff=Be.unstable_requestPaint,le=Be.unstable_now,Bf=Be.unstable_getCurrentPriorityLevel,$a=Be.unstable_ImmediatePriority,Vc=Be.unstable_UserBlockingPriority,Hs=Be.unstable_NormalPriority,Wf=Be.unstable_LowPriority,qc=Be.unstable_IdlePriority,pi=null,ht=null;function Hf(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Gf,Vf=Math.log,qf=Math.LN2;function Gf(t){return t>>>=0,t===0?32:31-(Vf(t)/qf|0)|0}var cs=64,ds=4194304;function gn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=gn(a):(i&=o,i!==0&&(n=gn(i)))}else o=r&~s,o!==0?n=gn(o):i!==0&&(n=gn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-st(e),s=1<<r,n|=t[r],e&=~s;return n}function Kf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-st(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Kf(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function $o(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gc(){var t=cs;return cs<<=1,!(cs&4194240)&&(cs=64),t}function Bi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-st(e),t[e]=r}function Jf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-st(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ma(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-st(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Q=0;function Kc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qc,Ua,Jc,Yc,Xc,Mo=!1,hs=[],$t=null,Mt=null,Ut=null,In=new Map,$n=new Map,Ot=[],Yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":In.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(e.pointerId)}}function an(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=es(e),e!==null&&Ua(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Xf(t,e,r,n,s){switch(e){case"focusin":return $t=an($t,t,e,r,n,s),!0;case"dragenter":return Mt=an(Mt,t,e,r,n,s),!0;case"mouseover":return Ut=an(Ut,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return In.set(i,an(In.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,$n.set(i,an($n.get(i)||null,t,e,r,n,s)),!0}return!1}function Zc(t){var e=sr(t.target);if(e!==null){var r=mr(e);if(r!==null){if(e=r.tag,e===13){if(e=Fc(r),e!==null){t.blockedOn=e,Xc(t.priority,function(){Jc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Uo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Lo=n,r.target.dispatchEvent(n),Lo=null}else return e=es(r),e!==null&&Ua(e),t.blockedOn=r,!1;e.shift()}return!0}function Bl(t,e,r){Os(t)&&r.delete(e)}function Zf(){Mo=!1,$t!==null&&Os($t)&&($t=null),Mt!==null&&Os(Mt)&&(Mt=null),Ut!==null&&Os(Ut)&&(Ut=null),In.forEach(Bl),$n.forEach(Bl)}function ln(t,e){t.blockedOn===e&&(t.blockedOn=null,Mo||(Mo=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Zf)))}function Mn(t){function e(s){return ln(s,t)}if(0<hs.length){ln(hs[0],t);for(var r=1;r<hs.length;r++){var n=hs[r];n.blockedOn===t&&(n.blockedOn=null)}}for($t!==null&&ln($t,t),Mt!==null&&ln(Mt,t),Ut!==null&&ln(Ut,t),In.forEach(e),$n.forEach(e),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)Zc(r),r.blockedOn===null&&Ot.shift()}var Fr=jt.ReactCurrentBatchConfig,qs=!0;function ep(t,e,r,n){var s=Q,i=Fr.transition;Fr.transition=null;try{Q=1,Da(t,e,r,n)}finally{Q=s,Fr.transition=i}}function tp(t,e,r,n){var s=Q,i=Fr.transition;Fr.transition=null;try{Q=4,Da(t,e,r,n)}finally{Q=s,Fr.transition=i}}function Da(t,e,r,n){if(qs){var s=Uo(t,e,r,n);if(s===null)Xi(t,e,n,Gs,r),Fl(t,n);else if(Xf(s,t,e,r,n))n.stopPropagation();else if(Fl(t,n),e&4&&-1<Yf.indexOf(t)){for(;s!==null;){var i=es(s);if(i!==null&&Qc(i),i=Uo(t,e,r,n),i===null&&Xi(t,e,n,Gs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Xi(t,e,n,null,r)}}var Gs=null;function Uo(t,e,r,n){if(Gs=null,t=Ia(n),t=sr(t),t!==null)if(e=mr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Fc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gs=t,null}function ed(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bf()){case $a:return 1;case Vc:return 4;case Hs:case Wf:return 16;case qc:return 536870912;default:return 16}default:return 16}}var Rt=null,za=null,Ls=null;function td(){if(Ls)return Ls;var t,e=za,r=e.length,n,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ls=s.slice(t,1<n?1-n:void 0)}function As(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fs(){return!0}function Wl(){return!1}function He(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fs:Wl,this.isPropagationStopped=Wl,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),e}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=He(Zr),Zn=ie({},Zr,{view:0,detail:0}),rp=He(Zn),Wi,Hi,un,mi=ie({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&t.type==="mousemove"?(Wi=t.screenX-un.screenX,Hi=t.screenY-un.screenY):Hi=Wi=0,un=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Hi}}),Hl=He(mi),np=ie({},mi,{dataTransfer:0}),sp=He(np),ip=ie({},Zn,{relatedTarget:0}),Vi=He(ip),op=ie({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ap=He(op),lp=ie({},Zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),up=He(lp),cp=ie({},Zr,{data:0}),Vl=He(cp),dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fp[t])?!!e[t]:!1}function Ba(){return pp}var mp=ie({},Zn,{key:function(t){if(t.key){var e=dp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gp=He(mp),vp=ie({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=He(vp),yp=ie({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),wp=He(yp),xp=ie({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_p=He(xp),bp=ie({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=He(bp),Sp=[9,13,27,32],Wa=_t&&"CompositionEvent"in window,_n=null;_t&&"documentMode"in document&&(_n=document.documentMode);var jp=_t&&"TextEvent"in window&&!_n,rd=_t&&(!Wa||_n&&8<_n&&11>=_n),Gl=" ",Kl=!1;function nd(t,e){switch(t){case"keyup":return Sp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function Ep(t,e){switch(t){case"compositionend":return sd(e);case"keypress":return e.which!==32?null:(Kl=!0,Gl);case"textInput":return t=e.data,t===Gl&&Kl?null:t;default:return null}}function Np(t,e){if(Tr)return t==="compositionend"||!Wa&&nd(t,e)?(t=td(),Ls=za=Rt=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rd&&e.locale!=="ko"?null:e.data;default:return null}}var Tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ql(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tp[t.type]:e==="textarea"}function id(t,e,r,n){$c(n),e=Ks(e,"onChange"),0<e.length&&(r=new Fa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var bn=null,Un=null;function Cp(t){gd(t,0)}function gi(t){var e=Or(t);if(Cc(e))return t}function Pp(t,e){if(t==="change")return e}var od=!1;if(_t){var qi;if(_t){var Gi="oninput"in document;if(!Gi){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),Gi=typeof Jl.oninput=="function"}qi=Gi}else qi=!1;od=qi&&(!document.documentMode||9<document.documentMode)}function Yl(){bn&&(bn.detachEvent("onpropertychange",ad),Un=bn=null)}function ad(t){if(t.propertyName==="value"&&gi(Un)){var e=[];id(e,Un,t,Ia(t)),zc(Cp,e)}}function Op(t,e,r){t==="focusin"?(Yl(),bn=e,Un=r,bn.attachEvent("onpropertychange",ad)):t==="focusout"&&Yl()}function Lp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gi(Un)}function Ap(t,e){if(t==="click")return gi(e)}function Rp(t,e){if(t==="input"||t==="change")return gi(e)}function Ip(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:Ip;function Dn(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xo.call(e,s)||!ot(t[s],e[s]))return!1}return!0}function Xl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zl(t,e){var r=Xl(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xl(r)}}function ld(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ld(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ud(){for(var t=window,e=Fs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fs(t.document)}return e}function Ha(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $p(t){var e=ud(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ld(r.ownerDocument.documentElement,r)){if(n!==null&&Ha(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Zl(r,i);var o=Zl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mp=_t&&"documentMode"in document&&11>=document.documentMode,Cr=null,Do=null,kn=null,zo=!1;function eu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zo||Cr==null||Cr!==Fs(n)||(n=Cr,"selectionStart"in n&&Ha(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kn&&Dn(kn,n)||(kn=n,n=Ks(Do,"onSelect"),0<n.length&&(e=new Fa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cr)))}function ps(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Pr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},Ki={},cd={};_t&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function vi(t){if(Ki[t])return Ki[t];if(!Pr[t])return t;var e=Pr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in cd)return Ki[t]=e[r];return t}var dd=vi("animationend"),hd=vi("animationiteration"),fd=vi("animationstart"),pd=vi("transitionend"),md=new Map,tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qt(t,e){md.set(t,e),pr(e,[t])}for(var Qi=0;Qi<tu.length;Qi++){var Ji=tu[Qi],Up=Ji.toLowerCase(),Dp=Ji[0].toUpperCase()+Ji.slice(1);qt(Up,"on"+Dp)}qt(dd,"onAnimationEnd");qt(hd,"onAnimationIteration");qt(fd,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(pd,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vn));function ru(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Uf(n,e,void 0,t),t.currentTarget=null}function gd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ru(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ru(s,a,c),i=l}}}if(Ws)throw t=Io,Ws=!1,Io=null,t}function Z(t,e){var r=e[Vo];r===void 0&&(r=e[Vo]=new Set);var n=t+"__bubble";r.has(n)||(vd(e,t,2,!1),r.add(n))}function Yi(t,e,r){var n=0;e&&(n|=4),vd(r,t,n,e)}var ms="_reactListening"+Math.random().toString(36).slice(2);function zn(t){if(!t[ms]){t[ms]=!0,Sc.forEach(function(r){r!=="selectionchange"&&(zp.has(r)||Yi(r,!1,t),Yi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ms]||(e[ms]=!0,Yi("selectionchange",!1,e))}}function vd(t,e,r,n){switch(ed(e)){case 1:var s=ep;break;case 4:s=tp;break;default:s=Da}r=s.bind(null,e,r,t),s=void 0,!Ro||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Xi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=sr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}zc(function(){var c=i,d=Ia(r),h=[];e:{var p=md.get(t);if(p!==void 0){var v=Fa,x=t;switch(t){case"keypress":if(As(r)===0)break e;case"keydown":case"keyup":v=gp;break;case"focusin":x="focus",v=Vi;break;case"focusout":x="blur",v=Vi;break;case"beforeblur":case"afterblur":v=Vi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wp;break;case dd:case hd:case fd:v=ap;break;case pd:v=_p;break;case"scroll":v=rp;break;case"wheel":v=kp;break;case"copy":case"cut":case"paste":v=up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ql}var b=(e&4)!==0,P=!b&&t==="scroll",g=b?p!==null?p+"Capture":null:p;b=[];for(var f=c,m;f!==null;){m=f;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=Rn(f,g),w!=null&&b.push(Fn(f,w,m)))),P)break;f=f.return}0<b.length&&(p=new v(p,x,null,r,d),h.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==Lo&&(x=r.relatedTarget||r.fromElement)&&(sr(x)||x[bt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?sr(x):null,x!==null&&(P=mr(x),x!==P||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(b=Hl,w="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(b=ql,w="onPointerLeave",g="onPointerEnter",f="pointer"),P=v==null?p:Or(v),m=x==null?p:Or(x),p=new b(w,f+"leave",v,r,d),p.target=P,p.relatedTarget=m,w=null,sr(d)===c&&(b=new b(g,f+"enter",x,r,d),b.target=m,b.relatedTarget=P,w=b),P=w,v&&x)t:{for(b=v,g=x,f=0,m=b;m;m=vr(m))f++;for(m=0,w=g;w;w=vr(w))m++;for(;0<f-m;)b=vr(b),f--;for(;0<m-f;)g=vr(g),m--;for(;f--;){if(b===g||g!==null&&b===g.alternate)break t;b=vr(b),g=vr(g)}b=null}else b=null;v!==null&&nu(h,p,v,b,!1),x!==null&&P!==null&&nu(h,P,x,b,!0)}}e:{if(p=c?Or(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var T=Pp;else if(Ql(p))if(od)T=Rp;else{T=Lp;var S=Op}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=Ap);if(T&&(T=T(t,c))){id(h,T,r,d);break e}S&&S(t,p,c),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&No(p,"number",p.value)}switch(S=c?Or(c):window,t){case"focusin":(Ql(S)||S.contentEditable==="true")&&(Cr=S,Do=c,kn=null);break;case"focusout":kn=Do=Cr=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,eu(h,r,d);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":eu(h,r,d)}var C;if(Wa)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Tr?nd(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(rd&&r.locale!=="ko"&&(Tr||O!=="onCompositionStart"?O==="onCompositionEnd"&&Tr&&(C=td()):(Rt=d,za="value"in Rt?Rt.value:Rt.textContent,Tr=!0)),S=Ks(c,O),0<S.length&&(O=new Vl(O,t,null,r,d),h.push({event:O,listeners:S}),C?O.data=C:(C=sd(r),C!==null&&(O.data=C)))),(C=jp?Ep(t,r):Np(t,r))&&(c=Ks(c,"onBeforeInput"),0<c.length&&(d=new Vl("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=C))}gd(h,e)})}function Fn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ks(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rn(t,r),i!=null&&n.unshift(Fn(t,i,s)),i=Rn(t,e),i!=null&&n.push(Fn(t,i,s))),t=t.return}return n}function vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Rn(r,i),l!=null&&o.unshift(Fn(r,l,a))):s||(l=Rn(r,i),l!=null&&o.push(Fn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Fp=/\r\n?/g,Bp=/\u0000|\uFFFD/g;function su(t){return(typeof t=="string"?t:""+t).replace(Fp,`
`).replace(Bp,"")}function gs(t,e,r){if(e=su(e),su(t)!==e&&r)throw Error(L(425))}function Qs(){}var Fo=null,Bo=null;function Wo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ho=typeof setTimeout=="function"?setTimeout:void 0,Wp=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,Hp=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(t){return iu.resolve(null).then(t).catch(Vp)}:Ho;function Vp(t){setTimeout(function(){throw t})}function Zi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Mn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mn(e)}function Dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ou(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var en=Math.random().toString(36).slice(2),dt="__reactFiber$"+en,Bn="__reactProps$"+en,bt="__reactContainer$"+en,Vo="__reactEvents$"+en,qp="__reactListeners$"+en,Gp="__reactHandles$"+en;function sr(t){var e=t[dt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bt]||r[dt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ou(t);t!==null;){if(r=t[dt])return r;t=ou(t)}return e}t=r,r=t.parentNode}return null}function es(t){return t=t[dt]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Or(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function yi(t){return t[Bn]||null}var qo=[],Lr=-1;function Gt(t){return{current:t}}function ee(t){0>Lr||(t.current=qo[Lr],qo[Lr]=null,Lr--)}function Y(t,e){Lr++,qo[Lr]=t.current,t.current=e}var Vt={},Ne=Gt(Vt),$e=Gt(!1),ur=Vt;function Vr(t,e){var r=t.type.contextTypes;if(!r)return Vt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Me(t){return t=t.childContextTypes,t!=null}function Js(){ee($e),ee(Ne)}function au(t,e,r){if(Ne.current!==Vt)throw Error(L(168));Y(Ne,e),Y($e,r)}function yd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(L(108,Of(t)||"Unknown",s));return ie({},r,n)}function Ys(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vt,ur=Ne.current,Y(Ne,t),Y($e,$e.current),!0}function lu(t,e,r){var n=t.stateNode;if(!n)throw Error(L(169));r?(t=yd(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,ee($e),ee(Ne),Y(Ne,t)):ee($e),Y($e,r)}var vt=null,wi=!1,eo=!1;function wd(t){vt===null?vt=[t]:vt.push(t)}function Kp(t){wi=!0,wd(t)}function Kt(){if(!eo&&vt!==null){eo=!0;var t=0,e=Q;try{var r=vt;for(Q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vt=null,wi=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),Hc($a,Kt),s}finally{Q=e,eo=!1}}return null}var Ar=[],Rr=0,Xs=null,Zs=0,Ve=[],qe=0,cr=null,yt=1,wt="";function er(t,e){Ar[Rr++]=Zs,Ar[Rr++]=Xs,Xs=t,Zs=e}function xd(t,e,r){Ve[qe++]=yt,Ve[qe++]=wt,Ve[qe++]=cr,cr=t;var n=yt;t=wt;var s=32-st(n)-1;n&=~(1<<s),r+=1;var i=32-st(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yt=1<<32-st(e)+s|r<<s|n,wt=i+t}else yt=1<<i|r<<s|n,wt=t}function Va(t){t.return!==null&&(er(t,1),xd(t,1,0))}function qa(t){for(;t===Xs;)Xs=Ar[--Rr],Ar[Rr]=null,Zs=Ar[--Rr],Ar[Rr]=null;for(;t===cr;)cr=Ve[--qe],Ve[qe]=null,wt=Ve[--qe],Ve[qe]=null,yt=Ve[--qe],Ve[qe]=null}var Fe=null,ze=null,re=!1,nt=null;function _d(t,e){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function uu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,ze=Dt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:yt,overflow:wt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Fe=t,ze=null,!0):!1;default:return!1}}function Go(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ko(t){if(re){var e=ze;if(e){var r=e;if(!uu(t,e)){if(Go(t))throw Error(L(418));e=Dt(r.nextSibling);var n=Fe;e&&uu(t,e)?_d(n,r):(t.flags=t.flags&-4097|2,re=!1,Fe=t)}}else{if(Go(t))throw Error(L(418));t.flags=t.flags&-4097|2,re=!1,Fe=t}}}function cu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function vs(t){if(t!==Fe)return!1;if(!re)return cu(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wo(t.type,t.memoizedProps)),e&&(e=ze)){if(Go(t))throw bd(),Error(L(418));for(;e;)_d(t,e),e=Dt(e.nextSibling)}if(cu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ze=Dt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Fe?Dt(t.stateNode.nextSibling):null;return!0}function bd(){for(var t=ze;t;)t=Dt(t.nextSibling)}function qr(){ze=Fe=null,re=!1}function Ga(t){nt===null?nt=[t]:nt.push(t)}var Qp=jt.ReactCurrentBatchConfig;function cn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function du(t){var e=t._init;return e(t._payload)}function kd(t){function e(g,f){if(t){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Wt(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,f,m,w){return f===null||f.tag!==6?(f=ao(m,g.mode,w),f.return=g,f):(f=s(f,m),f.return=g,f)}function l(g,f,m,w){var T=m.type;return T===Nr?d(g,f,m.props.children,w,m.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ct&&du(T)===f.type)?(w=s(f,m.props),w.ref=cn(g,f,m),w.return=g,w):(w=zs(m.type,m.key,m.props,null,g.mode,w),w.ref=cn(g,f,m),w.return=g,w)}function c(g,f,m,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=lo(m,g.mode,w),f.return=g,f):(f=s(f,m.children||[]),f.return=g,f)}function d(g,f,m,w,T){return f===null||f.tag!==7?(f=lr(m,g.mode,w,T),f.return=g,f):(f=s(f,m),f.return=g,f)}function h(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ao(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case as:return m=zs(f.type,f.key,f.props,null,g.mode,m),m.ref=cn(g,null,f),m.return=g,m;case Er:return f=lo(f,g.mode,m),f.return=g,f;case Ct:var w=f._init;return h(g,w(f._payload),m)}if(mn(f)||sn(f))return f=lr(f,g.mode,m,null),f.return=g,f;ys(g,f)}return null}function p(g,f,m,w){var T=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:a(g,f,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case as:return m.key===T?l(g,f,m,w):null;case Er:return m.key===T?c(g,f,m,w):null;case Ct:return T=m._init,p(g,f,T(m._payload),w)}if(mn(m)||sn(m))return T!==null?null:d(g,f,m,w,null);ys(g,m)}return null}function v(g,f,m,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,a(f,g,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case as:return g=g.get(w.key===null?m:w.key)||null,l(f,g,w,T);case Er:return g=g.get(w.key===null?m:w.key)||null,c(f,g,w,T);case Ct:var S=w._init;return v(g,f,m,S(w._payload),T)}if(mn(w)||sn(w))return g=g.get(m)||null,d(f,g,w,T,null);ys(f,w)}return null}function x(g,f,m,w){for(var T=null,S=null,C=f,O=f=0,F=null;C!==null&&O<m.length;O++){C.index>O?(F=C,C=null):F=C.sibling;var R=p(g,C,m[O],w);if(R===null){C===null&&(C=F);break}t&&C&&R.alternate===null&&e(g,C),f=i(R,f,O),S===null?T=R:S.sibling=R,S=R,C=F}if(O===m.length)return r(g,C),re&&er(g,O),T;if(C===null){for(;O<m.length;O++)C=h(g,m[O],w),C!==null&&(f=i(C,f,O),S===null?T=C:S.sibling=C,S=C);return re&&er(g,O),T}for(C=n(g,C);O<m.length;O++)F=v(C,g,O,m[O],w),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?O:F.key),f=i(F,f,O),S===null?T=F:S.sibling=F,S=F);return t&&C.forEach(function(W){return e(g,W)}),re&&er(g,O),T}function b(g,f,m,w){var T=sn(m);if(typeof T!="function")throw Error(L(150));if(m=T.call(m),m==null)throw Error(L(151));for(var S=T=null,C=f,O=f=0,F=null,R=m.next();C!==null&&!R.done;O++,R=m.next()){C.index>O?(F=C,C=null):F=C.sibling;var W=p(g,C,R.value,w);if(W===null){C===null&&(C=F);break}t&&C&&W.alternate===null&&e(g,C),f=i(W,f,O),S===null?T=W:S.sibling=W,S=W,C=F}if(R.done)return r(g,C),re&&er(g,O),T;if(C===null){for(;!R.done;O++,R=m.next())R=h(g,R.value,w),R!==null&&(f=i(R,f,O),S===null?T=R:S.sibling=R,S=R);return re&&er(g,O),T}for(C=n(g,C);!R.done;O++,R=m.next())R=v(C,g,O,R.value,w),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?O:R.key),f=i(R,f,O),S===null?T=R:S.sibling=R,S=R);return t&&C.forEach(function(X){return e(g,X)}),re&&er(g,O),T}function P(g,f,m,w){if(typeof m=="object"&&m!==null&&m.type===Nr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case as:e:{for(var T=m.key,S=f;S!==null;){if(S.key===T){if(T=m.type,T===Nr){if(S.tag===7){r(g,S.sibling),f=s(S,m.props.children),f.return=g,g=f;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ct&&du(T)===S.type){r(g,S.sibling),f=s(S,m.props),f.ref=cn(g,S,m),f.return=g,g=f;break e}r(g,S);break}else e(g,S);S=S.sibling}m.type===Nr?(f=lr(m.props.children,g.mode,w,m.key),f.return=g,g=f):(w=zs(m.type,m.key,m.props,null,g.mode,w),w.ref=cn(g,f,m),w.return=g,g=w)}return o(g);case Er:e:{for(S=m.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(g,f.sibling),f=s(f,m.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=lo(m,g.mode,w),f.return=g,g=f}return o(g);case Ct:return S=m._init,P(g,f,S(m._payload),w)}if(mn(m))return x(g,f,m,w);if(sn(m))return b(g,f,m,w);ys(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,m),f.return=g,g=f):(r(g,f),f=ao(m,g.mode,w),f.return=g,g=f),o(g)):r(g,f)}return P}var Gr=kd(!0),Sd=kd(!1),ei=Gt(null),ti=null,Ir=null,Ka=null;function Qa(){Ka=Ir=ti=null}function Ja(t){var e=ei.current;ee(ei),t._currentValue=e}function Qo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Br(t,e){ti=t,Ka=Ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ie=!0),t.firstContext=null)}function Je(t){var e=t._currentValue;if(Ka!==t)if(t={context:t,memoizedValue:e,next:null},Ir===null){if(ti===null)throw Error(L(308));Ir=t,ti.dependencies={lanes:0,firstContext:t}}else Ir=Ir.next=t;return e}var ir=null;function Ya(t){ir===null?ir=[t]:ir.push(t)}function jd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ya(e)):(r.next=s.next,s.next=r),e.interleaved=r,kt(t,n)}function kt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pt=!1;function Xa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ed(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,kt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ya(n)):(e.next=s.next,s.next=e),n.interleaved=e,kt(t,r)}function Rs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ma(t,r)}}function hu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ri(t,e,r,n){var s=t.updateQueue;Pt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,b=a;switch(p=e,v=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){h=x.call(v,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,p=typeof x=="function"?x.call(v,h,p):x,p==null)break e;h=ie({},h,p);break e;case 2:Pt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=h}}function fu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var ts={},ft=Gt(ts),Wn=Gt(ts),Hn=Gt(ts);function or(t){if(t===ts)throw Error(L(174));return t}function Za(t,e){switch(Y(Hn,e),Y(Wn,t),Y(ft,ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Co(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Co(e,t)}ee(ft),Y(ft,e)}function Kr(){ee(ft),ee(Wn),ee(Hn)}function Nd(t){or(Hn.current);var e=or(ft.current),r=Co(e,t.type);e!==r&&(Y(Wn,t),Y(ft,r))}function el(t){Wn.current===t&&(ee(ft),ee(Wn))}var ne=Gt(0);function ni(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var to=[];function tl(){for(var t=0;t<to.length;t++)to[t]._workInProgressVersionPrimary=null;to.length=0}var Is=jt.ReactCurrentDispatcher,ro=jt.ReactCurrentBatchConfig,dr=0,se=null,pe=null,ve=null,si=!1,Sn=!1,Vn=0,Jp=0;function Se(){throw Error(L(321))}function rl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ot(t[r],e[r]))return!1;return!0}function nl(t,e,r,n,s,i){if(dr=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Is.current=t===null||t.memoizedState===null?em:tm,t=r(n,s),Sn){i=0;do{if(Sn=!1,Vn=0,25<=i)throw Error(L(301));i+=1,ve=pe=null,e.updateQueue=null,Is.current=rm,t=r(n,s)}while(Sn)}if(Is.current=ii,e=pe!==null&&pe.next!==null,dr=0,ve=pe=se=null,si=!1,e)throw Error(L(300));return t}function sl(){var t=Vn!==0;return Vn=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?se.memoizedState=ve=t:ve=ve.next=t,ve}function Ye(){if(pe===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=ve===null?se.memoizedState:ve.next;if(e!==null)ve=e,pe=t;else{if(t===null)throw Error(L(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ve===null?se.memoizedState=ve=t:ve=ve.next=t}return ve}function qn(t,e){return typeof e=="function"?e(t):e}function no(t){var e=Ye(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((dr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,se.lanes|=d,hr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,ot(n,e.memoizedState)||(Ie=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function so(t){var e=Ye(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ot(i,e.memoizedState)||(Ie=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Td(){}function Cd(t,e){var r=se,n=Ye(),s=e(),i=!ot(n.memoizedState,s);if(i&&(n.memoizedState=s,Ie=!0),n=n.queue,il(Ld.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,Gn(9,Od.bind(null,r,n,s,e),void 0,null),ye===null)throw Error(L(349));dr&30||Pd(r,e,s)}return s}function Pd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Od(t,e,r,n){e.value=r,e.getSnapshot=n,Ad(e)&&Rd(t)}function Ld(t,e,r){return r(function(){Ad(e)&&Rd(t)})}function Ad(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ot(t,r)}catch{return!0}}function Rd(t){var e=kt(t,1);e!==null&&it(e,t,1,-1)}function pu(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},e.queue=t,t=t.dispatch=Zp.bind(null,se,t),[e.memoizedState,t]}function Gn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Id(){return Ye().memoizedState}function $s(t,e,r,n){var s=ut();se.flags|=t,s.memoizedState=Gn(1|e,r,void 0,n===void 0?null:n)}function xi(t,e,r,n){var s=Ye();n=n===void 0?null:n;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,n!==null&&rl(n,o.deps)){s.memoizedState=Gn(e,r,i,n);return}}se.flags|=t,s.memoizedState=Gn(1|e,r,i,n)}function mu(t,e){return $s(8390656,8,t,e)}function il(t,e){return xi(2048,8,t,e)}function $d(t,e){return xi(4,2,t,e)}function Md(t,e){return xi(4,4,t,e)}function Ud(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dd(t,e,r){return r=r!=null?r.concat([t]):null,xi(4,4,Ud.bind(null,e,t),r)}function ol(){}function zd(t,e){var r=Ye();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Fd(t,e){var r=Ye();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Bd(t,e,r){return dr&21?(ot(r,e)||(r=Gc(),se.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ie=!0),t.memoizedState=r)}function Yp(t,e){var r=Q;Q=r!==0&&4>r?r:4,t(!0);var n=ro.transition;ro.transition={};try{t(!1),e()}finally{Q=r,ro.transition=n}}function Wd(){return Ye().memoizedState}function Xp(t,e,r){var n=Bt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hd(t))Vd(e,r);else if(r=jd(t,e,r,n),r!==null){var s=Pe();it(r,t,n,s),qd(r,e,n)}}function Zp(t,e,r){var n=Bt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hd(t))Vd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,ot(a,o)){var l=e.interleaved;l===null?(s.next=s,Ya(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=jd(t,e,s,n),r!==null&&(s=Pe(),it(r,t,n,s),qd(r,e,n))}}function Hd(t){var e=t.alternate;return t===se||e!==null&&e===se}function Vd(t,e){Sn=si=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function qd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ma(t,r)}}var ii={readContext:Je,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},em={readContext:Je,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:mu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$s(4194308,4,Ud.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $s(4194308,4,t,e)},useInsertionEffect:function(t,e){return $s(4,2,t,e)},useMemo:function(t,e){var r=ut();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ut();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Xp.bind(null,se,t),[n.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:pu,useDebugValue:ol,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=pu(!1),e=t[0];return t=Yp.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=se,s=ut();if(re){if(r===void 0)throw Error(L(407));r=r()}else{if(r=e(),ye===null)throw Error(L(349));dr&30||Pd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,mu(Ld.bind(null,n,i,t),[t]),n.flags|=2048,Gn(9,Od.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ut(),e=ye.identifierPrefix;if(re){var r=wt,n=yt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Jp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tm={readContext:Je,useCallback:zd,useContext:Je,useEffect:il,useImperativeHandle:Dd,useInsertionEffect:$d,useLayoutEffect:Md,useMemo:Fd,useReducer:no,useRef:Id,useState:function(){return no(qn)},useDebugValue:ol,useDeferredValue:function(t){var e=Ye();return Bd(e,pe.memoizedState,t)},useTransition:function(){var t=no(qn)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:Td,useSyncExternalStore:Cd,useId:Wd,unstable_isNewReconciler:!1},rm={readContext:Je,useCallback:zd,useContext:Je,useEffect:il,useImperativeHandle:Dd,useInsertionEffect:$d,useLayoutEffect:Md,useMemo:Fd,useReducer:so,useRef:Id,useState:function(){return so(qn)},useDebugValue:ol,useDeferredValue:function(t){var e=Ye();return pe===null?e.memoizedState=t:Bd(e,pe.memoizedState,t)},useTransition:function(){var t=so(qn)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:Td,useSyncExternalStore:Cd,useId:Wd,unstable_isNewReconciler:!1};function et(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Jo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ie({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _i={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pe(),s=Bt(t),i=xt(n,s);i.payload=e,r!=null&&(i.callback=r),e=zt(t,i,s),e!==null&&(it(e,t,s,n),Rs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pe(),s=Bt(t),i=xt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=zt(t,i,s),e!==null&&(it(e,t,s,n),Rs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pe(),n=Bt(t),s=xt(r,n);s.tag=2,e!=null&&(s.callback=e),e=zt(t,s,n),e!==null&&(it(e,t,n,r),Rs(e,t,n))}};function gu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dn(r,n)||!Dn(s,i):!0}function Gd(t,e,r){var n=!1,s=Vt,i=e.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Me(e)?ur:Ne.current,n=e.contextTypes,i=(n=n!=null)?Vr(t,s):Vt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_i,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_i.enqueueReplaceState(e,e.state,null)}function Yo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Xa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Me(e)?ur:Ne.current,s.context=Vr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Jo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_i.enqueueReplaceState(s,s.state,null),ri(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qr(t,e){try{var r="",n=e;do r+=Pf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function io(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var nm=typeof WeakMap=="function"?WeakMap:Map;function Kd(t,e,r){r=xt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ai||(ai=!0,la=n),Xo(t,e)},r}function Qd(t,e,r){r=xt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Xo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xo(t,e),typeof n!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function yu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new nm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=vm.bind(null,t,e,r),e.then(t,t))}function wu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xt(-1,1),e.tag=2,zt(r,e,1))),r.lanes|=1),t)}var sm=jt.ReactCurrentOwner,Ie=!1;function Ce(t,e,r,n){e.child=t===null?Sd(e,null,r,n):Gr(e,t.child,r,n)}function _u(t,e,r,n,s){r=r.render;var i=e.ref;return Br(e,s),n=nl(t,e,r,n,i,s),r=sl(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(re&&r&&Va(e),e.flags|=1,Ce(t,e,n,s),e.child)}function bu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!pl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Jd(t,e,i,n,s)):(t=zs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Dn,r(o,n)&&t.ref===e.ref)return St(t,e,s)}return e.flags|=1,t=Wt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Jd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Dn(i,n)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,St(t,e,s)}return Zo(t,e,r,n,s)}function Yd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Mr,De),De|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(Mr,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(Mr,De),De|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Y(Mr,De),De|=n;return Ce(t,e,s,r),e.child}function Xd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Zo(t,e,r,n,s){var i=Me(r)?ur:Ne.current;return i=Vr(e,i),Br(e,s),r=nl(t,e,r,n,i,s),n=sl(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(re&&n&&Va(e),e.flags|=1,Ce(t,e,r,s),e.child)}function ku(t,e,r,n,s){if(Me(r)){var i=!0;Ys(e)}else i=!1;if(Br(e,s),e.stateNode===null)Ms(t,e),Gd(e,r,n),Yo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Je(c):(c=Me(r)?ur:Ne.current,c=Vr(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&vu(e,o,n,c),Pt=!1;var p=e.memoizedState;o.state=p,ri(e,n,o,s),l=e.memoizedState,a!==n||p!==l||$e.current||Pt?(typeof d=="function"&&(Jo(e,r,d,n),l=e.memoizedState),(a=Pt||gu(e,r,a,n,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ed(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:et(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Me(r)?ur:Ne.current,l=Vr(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&vu(e,o,n,l),Pt=!1,p=e.memoizedState,o.state=p,ri(e,n,o,s);var x=e.memoizedState;a!==h||p!==x||$e.current||Pt?(typeof v=="function"&&(Jo(e,r,v,n),x=e.memoizedState),(c=Pt||gu(e,r,c,n,p,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return ea(t,e,r,n,i,s)}function ea(t,e,r,n,s,i){Xd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&lu(e,r,!1),St(t,e,i);n=e.stateNode,sm.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Gr(e,t.child,null,i),e.child=Gr(e,null,a,i)):Ce(t,e,a,i),e.memoizedState=n.state,s&&lu(e,r,!0),e.child}function Zd(t){var e=t.stateNode;e.pendingContext?au(t,e.pendingContext,e.pendingContext!==e.context):e.context&&au(t,e.context,!1),Za(t,e.containerInfo)}function Su(t,e,r,n,s){return qr(),Ga(s),e.flags|=256,Ce(t,e,r,n),e.child}var ta={dehydrated:null,treeContext:null,retryLane:0};function ra(t){return{baseLanes:t,cachePool:null,transitions:null}}function eh(t,e,r){var n=e.pendingProps,s=ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Y(ne,s&1),t===null)return Ko(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Si(o,n,0,null),t=lr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ra(r),e.memoizedState=ta,t):al(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return im(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Wt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wt(a,i):(i=lr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ra(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ta,n}return i=t.child,t=i.sibling,n=Wt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function al(t,e){return e=Si({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ws(t,e,r,n){return n!==null&&Ga(n),Gr(e,t.child,null,r),t=al(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function im(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=io(Error(L(422))),ws(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Si({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Gr(e,t.child,null,o),e.child.memoizedState=ra(o),e.memoizedState=ta,i);if(!(e.mode&1))return ws(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(L(419)),n=io(i,n,void 0),ws(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ie||a){if(n=ye,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(t,s),it(n,t,s,-1))}return fl(),n=io(Error(L(421))),ws(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ym.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ze=Dt(s.nextSibling),Fe=e,re=!0,nt=null,t!==null&&(Ve[qe++]=yt,Ve[qe++]=wt,Ve[qe++]=cr,yt=t.id,wt=t.overflow,cr=e),e=al(e,n.children),e.flags|=4096,e)}function ju(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Qo(t.return,e,r)}function oo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function th(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(t,e,n.children,r),n=ne.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ju(t,r,e);else if(t.tag===19)ju(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Y(ne,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ni(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),oo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ni(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}oo(e,!0,r,null,i);break;case"together":oo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ms(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,r=Wt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function om(t,e,r){switch(e.tag){case 3:Zd(e),qr();break;case 5:Nd(e);break;case 1:Me(e.type)&&Ys(e);break;case 4:Za(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Y(ei,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Y(ne,ne.current&1),e.flags|=128,null):r&e.child.childLanes?eh(t,e,r):(Y(ne,ne.current&1),t=St(t,e,r),t!==null?t.sibling:null);Y(ne,ne.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return th(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ne,ne.current),n)break;return null;case 22:case 23:return e.lanes=0,Yd(t,e,r)}return St(t,e,r)}var rh,na,nh,sh;rh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};na=function(){};nh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,or(ft.current);var i=null;switch(r){case"input":s=jo(t,s),n=jo(t,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=To(t,s),n=To(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qs)}Po(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ln.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Z("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};sh=function(t,e,r,n){r!==n&&(e.flags|=4)};function dn(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function am(t,e,r){var n=e.pendingProps;switch(qa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return Me(e.type)&&Js(),je(e),null;case 3:return n=e.stateNode,Kr(),ee($e),ee(Ne),tl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(da(nt),nt=null))),na(t,e),je(e),null;case 5:el(e);var s=or(Hn.current);if(r=e.type,t!==null&&e.stateNode!=null)nh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(L(166));return je(e),null}if(t=or(ft.current),vs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[dt]=e,n[Bn]=i,t=(e.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(s=0;s<vn.length;s++)Z(vn[s],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":Rl(n,i),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Z("invalid",n);break;case"textarea":$l(n,i),Z("invalid",n)}Po(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&gs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&gs(n.textContent,a,t),s=["children",""+a]):Ln.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",n)}switch(r){case"input":ls(n),Il(n,i,!0);break;case"textarea":ls(n),Ml(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Qs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[dt]=e,t[Bn]=n,rh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Oo(r,n),r){case"dialog":Z("cancel",t),Z("close",t),s=n;break;case"iframe":case"object":case"embed":Z("load",t),s=n;break;case"video":case"audio":for(s=0;s<vn.length;s++)Z(vn[s],t);s=n;break;case"source":Z("error",t),s=n;break;case"img":case"image":case"link":Z("error",t),Z("load",t),s=n;break;case"details":Z("toggle",t),s=n;break;case"input":Rl(t,n),s=jo(t,n),Z("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),Z("invalid",t);break;case"textarea":$l(t,n),s=To(t,n),Z("invalid",t);break;default:s=n}Po(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ic(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ac(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&An(t,l):typeof l=="number"&&An(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",t):l!=null&&Oa(t,i,l,o))}switch(r){case"input":ls(t),Il(t,n,!1);break;case"textarea":ls(t),Ml(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ht(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ur(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ur(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)sh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(L(166));if(r=or(Hn.current),or(ft.current),vs(e)){if(n=e.stateNode,r=e.memoizedProps,n[dt]=e,(i=n.nodeValue!==r)&&(t=Fe,t!==null))switch(t.tag){case 3:gs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=e,e.stateNode=n}return je(e),null;case 13:if(ee(ne),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&ze!==null&&e.mode&1&&!(e.flags&128))bd(),qr(),e.flags|=98560,i=!1;else if(i=vs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(L(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[dt]=e}else qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),i=!1}else nt!==null&&(da(nt),nt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?me===0&&(me=3):fl())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return Kr(),na(t,e),t===null&&zn(e.stateNode.containerInfo),je(e),null;case 10:return Ja(e.type._context),je(e),null;case 17:return Me(e.type)&&Js(),je(e),null;case 19:if(ee(ne),i=e.memoizedState,i===null)return je(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)dn(i,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ni(t),o!==null){for(e.flags|=128,dn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Y(ne,ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&le()>Jr&&(e.flags|=128,n=!0,dn(i,!1),e.lanes=4194304)}else{if(!n)if(t=ni(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),dn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return je(e),null}else 2*le()-i.renderingStartTime>Jr&&r!==1073741824&&(e.flags|=128,n=!0,dn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,r=ne.current,Y(ne,n?r&1|2:r&1),e):(je(e),null);case 22:case 23:return hl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?De&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function lm(t,e){switch(qa(e),e.tag){case 1:return Me(e.type)&&Js(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kr(),ee($e),ee(Ne),tl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return el(e),null;case 13:if(ee(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(ne),null;case 4:return Kr(),null;case 10:return Ja(e.type._context),null;case 22:case 23:return hl(),null;case 24:return null;default:return null}}var xs=!1,Ee=!1,um=typeof WeakSet=="function"?WeakSet:Set,$=null;function $r(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(t,e,n)}else r.current=null}function sa(t,e,r){try{r()}catch(n){oe(t,e,n)}}var Eu=!1;function cm(t,e){if(Fo=qs,t=ud(),Ha(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===r&&++c===s&&(a=o),p===i&&++d===n&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bo={focusedElem:t,selectionRange:r},qs=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,P=x.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:et(e.type,b),P);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){oe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return x=Eu,Eu=!1,x}function jn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sa(e,r,i)}s=s.next}while(s!==n)}}function bi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ia(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ih(t){var e=t.alternate;e!==null&&(t.alternate=null,ih(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[Bn],delete e[Vo],delete e[qp],delete e[Gp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oh(t){return t.tag===5||t.tag===3||t.tag===4}function Nu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qs));else if(n!==4&&(t=t.child,t!==null))for(oa(t,e,r),t=t.sibling;t!==null;)oa(t,e,r),t=t.sibling}function aa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(aa(t,e,r),t=t.sibling;t!==null;)aa(t,e,r),t=t.sibling}var xe=null,tt=!1;function Et(t,e,r){for(r=r.child;r!==null;)ah(t,e,r),r=r.sibling}function ah(t,e,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(pi,r)}catch{}switch(r.tag){case 5:Ee||$r(r,e);case 6:var n=xe,s=tt;xe=null,Et(t,e,r),xe=n,tt=s,xe!==null&&(tt?(t=xe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):xe.removeChild(r.stateNode));break;case 18:xe!==null&&(tt?(t=xe,r=r.stateNode,t.nodeType===8?Zi(t.parentNode,r):t.nodeType===1&&Zi(t,r),Mn(t)):Zi(xe,r.stateNode));break;case 4:n=xe,s=tt,xe=r.stateNode.containerInfo,tt=!0,Et(t,e,r),xe=n,tt=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sa(r,e,o),s=s.next}while(s!==n)}Et(t,e,r);break;case 1:if(!Ee&&($r(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){oe(r,e,a)}Et(t,e,r);break;case 21:Et(t,e,r);break;case 22:r.mode&1?(Ee=(n=Ee)||r.memoizedState!==null,Et(t,e,r),Ee=n):Et(t,e,r);break;default:Et(t,e,r)}}function Tu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new um),e.forEach(function(n){var s=wm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,tt=!1;break e;case 3:xe=a.stateNode.containerInfo,tt=!0;break e;case 4:xe=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(xe===null)throw Error(L(160));ah(i,o,s),xe=null,tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){oe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lh(e,t),e=e.sibling}function lh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xe(e,t),at(t),n&4){try{jn(3,t,t.return),bi(3,t)}catch(b){oe(t,t.return,b)}try{jn(5,t,t.return)}catch(b){oe(t,t.return,b)}}break;case 1:Xe(e,t),at(t),n&512&&r!==null&&$r(r,r.return);break;case 5:if(Xe(e,t),at(t),n&512&&r!==null&&$r(r,r.return),t.flags&32){var s=t.stateNode;try{An(s,"")}catch(b){oe(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Pc(s,i),Oo(a,o);var c=Oo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ic(s,h):d==="dangerouslySetInnerHTML"?Ac(s,h):d==="children"?An(s,h):Oa(s,d,h,c)}switch(a){case"input":Eo(s,i);break;case"textarea":Oc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ur(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bn]=i}catch(b){oe(t,t.return,b)}}break;case 6:if(Xe(e,t),at(t),n&4){if(t.stateNode===null)throw Error(L(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){oe(t,t.return,b)}}break;case 3:if(Xe(e,t),at(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mn(e.containerInfo)}catch(b){oe(t,t.return,b)}break;case 4:Xe(e,t),at(t);break;case 13:Xe(e,t),at(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cl=le())),n&4&&Tu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ee=(c=Ee)||d,Xe(e,t),Ee=c):Xe(e,t),at(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for($=t,d=t.child;d!==null;){for(h=$=d;$!==null;){switch(p=$,v=p.child,p.tag){case 0:case 11:case 14:case 15:jn(4,p,p.return);break;case 1:$r(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){oe(n,r,b)}}break;case 5:$r(p,p.return);break;case 22:if(p.memoizedState!==null){Pu(h);continue}}v!==null?(v.return=p,$=v):Pu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rc("display",o))}catch(b){oe(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){oe(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(e,t),at(t),n&4&&Tu(t);break;case 21:break;default:Xe(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(oh(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(An(s,""),n.flags&=-33);var i=Nu(t);aa(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Nu(t);oa(t,a,o);break;default:throw Error(L(161))}}catch(l){oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dm(t,e,r){$=t,uh(t)}function uh(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||xs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ee;a=xs;var c=Ee;if(xs=o,(Ee=l)&&!c)for($=s;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Ou(s):l!==null?(l.return=o,$=l):Ou(s);for(;i!==null;)$=i,uh(i),i=i.sibling;$=s,xs=a,Ee=c}Cu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Cu(t)}}function Cu(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||bi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ee)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:et(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&fu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ee||e.flags&512&&ia(e)}catch(p){oe(e,e.return,p)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function Pu(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function Ou(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bi(4,e)}catch(l){oe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){oe(e,s,l)}}var i=e.return;try{ia(e)}catch(l){oe(e,i,l)}break;case 5:var o=e.return;try{ia(e)}catch(l){oe(e,o,l)}}}catch(l){oe(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var hm=Math.ceil,oi=jt.ReactCurrentDispatcher,ll=jt.ReactCurrentOwner,Ke=jt.ReactCurrentBatchConfig,K=0,ye=null,ue=null,_e=0,De=0,Mr=Gt(0),me=0,Kn=null,hr=0,ki=0,ul=0,En=null,Ae=null,cl=0,Jr=1/0,mt=null,ai=!1,la=null,Ft=null,_s=!1,It=null,li=0,Nn=0,ua=null,Us=-1,Ds=0;function Pe(){return K&6?le():Us!==-1?Us:Us=le()}function Bt(t){return t.mode&1?K&2&&_e!==0?_e&-_e:Qp.transition!==null?(Ds===0&&(Ds=Gc()),Ds):(t=Q,t!==0||(t=window.event,t=t===void 0?16:ed(t.type)),t):1}function it(t,e,r,n){if(50<Nn)throw Nn=0,ua=null,Error(L(185));Xn(t,r,n),(!(K&2)||t!==ye)&&(t===ye&&(!(K&2)&&(ki|=r),me===4&&Lt(t,_e)),Ue(t,n),r===1&&K===0&&!(e.mode&1)&&(Jr=le()+500,wi&&Kt()))}function Ue(t,e){var r=t.callbackNode;Qf(t,e);var n=Vs(t,t===ye?_e:0);if(n===0)r!==null&&zl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zl(r),e===1)t.tag===0?Kp(Lu.bind(null,t)):wd(Lu.bind(null,t)),Hp(function(){!(K&6)&&Kt()}),r=null;else{switch(Kc(n)){case 1:r=$a;break;case 4:r=Vc;break;case 16:r=Hs;break;case 536870912:r=qc;break;default:r=Hs}r=vh(r,ch.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ch(t,e){if(Us=-1,Ds=0,K&6)throw Error(L(327));var r=t.callbackNode;if(Wr()&&t.callbackNode!==r)return null;var n=Vs(t,t===ye?_e:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ui(t,n);else{e=n;var s=K;K|=2;var i=hh();(ye!==t||_e!==e)&&(mt=null,Jr=le()+500,ar(t,e));do try{mm();break}catch(a){dh(t,a)}while(!0);Qa(),oi.current=i,K=s,ue!==null?e=0:(ye=null,_e=0,e=me)}if(e!==0){if(e===2&&(s=$o(t),s!==0&&(n=s,e=ca(t,s))),e===1)throw r=Kn,ar(t,0),Lt(t,n),Ue(t,le()),r;if(e===6)Lt(t,n);else{if(s=t.current.alternate,!(n&30)&&!fm(s)&&(e=ui(t,n),e===2&&(i=$o(t),i!==0&&(n=i,e=ca(t,i))),e===1))throw r=Kn,ar(t,0),Lt(t,n),Ue(t,le()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(L(345));case 2:tr(t,Ae,mt);break;case 3:if(Lt(t,n),(n&130023424)===n&&(e=cl+500-le(),10<e)){if(Vs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Pe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ho(tr.bind(null,t,Ae,mt),e);break}tr(t,Ae,mt);break;case 4:if(Lt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-st(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hm(n/1960))-n,10<n){t.timeoutHandle=Ho(tr.bind(null,t,Ae,mt),n);break}tr(t,Ae,mt);break;case 5:tr(t,Ae,mt);break;default:throw Error(L(329))}}}return Ue(t,le()),t.callbackNode===r?ch.bind(null,t):null}function ca(t,e){var r=En;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=ui(t,e),t!==2&&(e=Ae,Ae=r,e!==null&&da(e)),t}function da(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function fm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lt(t,e){for(e&=~ul,e&=~ki,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-st(e),n=1<<r;t[r]=-1,e&=~n}}function Lu(t){if(K&6)throw Error(L(327));Wr();var e=Vs(t,0);if(!(e&1))return Ue(t,le()),null;var r=ui(t,e);if(t.tag!==0&&r===2){var n=$o(t);n!==0&&(e=n,r=ca(t,n))}if(r===1)throw r=Kn,ar(t,0),Lt(t,e),Ue(t,le()),r;if(r===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tr(t,Ae,mt),Ue(t,le()),null}function dl(t,e){var r=K;K|=1;try{return t(e)}finally{K=r,K===0&&(Jr=le()+500,wi&&Kt())}}function fr(t){It!==null&&It.tag===0&&!(K&6)&&Wr();var e=K;K|=1;var r=Ke.transition,n=Q;try{if(Ke.transition=null,Q=1,t)return t()}finally{Q=n,Ke.transition=r,K=e,!(K&6)&&Kt()}}function hl(){De=Mr.current,ee(Mr)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Wp(r)),ue!==null)for(r=ue.return;r!==null;){var n=r;switch(qa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Js();break;case 3:Kr(),ee($e),ee(Ne),tl();break;case 5:el(n);break;case 4:Kr();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:Ja(n.type._context);break;case 22:case 23:hl()}r=r.return}if(ye=t,ue=t=Wt(t.current,null),_e=De=e,me=0,Kn=null,ul=ki=hr=0,Ae=En=null,ir!==null){for(e=0;e<ir.length;e++)if(r=ir[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ir=null}return t}function dh(t,e){do{var r=ue;try{if(Qa(),Is.current=ii,si){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}si=!1}if(dr=0,ve=pe=se=null,Sn=!1,Vn=0,ll.current=null,r===null||r.return===null){me=1,Kn=e,ue=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=wu(o);if(v!==null){v.flags&=-257,xu(v,o,a,i,e),v.mode&1&&yu(i,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var b=new Set;b.add(l),e.updateQueue=b}else x.add(l);break e}else{if(!(e&1)){yu(i,c,e),fl();break e}l=Error(L(426))}}else if(re&&a.mode&1){var P=wu(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),xu(P,o,a,i,e),Ga(Qr(l,a));break e}}i=l=Qr(l,a),me!==4&&(me=2),En===null?En=[i]:En.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Kd(i,l,e);hu(i,g);break e;case 1:a=l;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ft===null||!Ft.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Qd(i,a,e);hu(i,w);break e}}i=i.return}while(i!==null)}ph(r)}catch(T){e=T,ue===r&&r!==null&&(ue=r=r.return);continue}break}while(!0)}function hh(){var t=oi.current;return oi.current=ii,t===null?ii:t}function fl(){(me===0||me===3||me===2)&&(me=4),ye===null||!(hr&268435455)&&!(ki&268435455)||Lt(ye,_e)}function ui(t,e){var r=K;K|=2;var n=hh();(ye!==t||_e!==e)&&(mt=null,ar(t,e));do try{pm();break}catch(s){dh(t,s)}while(!0);if(Qa(),K=r,oi.current=n,ue!==null)throw Error(L(261));return ye=null,_e=0,me}function pm(){for(;ue!==null;)fh(ue)}function mm(){for(;ue!==null&&!zf();)fh(ue)}function fh(t){var e=gh(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?ph(t):ue=e,ll.current=null}function ph(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=lm(r,e),r!==null){r.flags&=32767,ue=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,ue=null;return}}else if(r=am(r,e,De),r!==null){ue=r;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);me===0&&(me=5)}function tr(t,e,r){var n=Q,s=Ke.transition;try{Ke.transition=null,Q=1,gm(t,e,r,n)}finally{Ke.transition=s,Q=n}return null}function gm(t,e,r,n){do Wr();while(It!==null);if(K&6)throw Error(L(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Jf(t,i),t===ye&&(ue=ye=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_s||(_s=!0,vh(Hs,function(){return Wr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=Q;Q=1;var a=K;K|=4,ll.current=null,cm(t,r),lh(r,t),$p(Bo),qs=!!Fo,Bo=Fo=null,t.current=r,dm(r),Ff(),K=a,Q=o,Ke.transition=i}else t.current=r;if(_s&&(_s=!1,It=t,li=s),i=t.pendingLanes,i===0&&(Ft=null),Hf(r.stateNode),Ue(t,le()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ai)throw ai=!1,t=la,la=null,t;return li&1&&t.tag!==0&&Wr(),i=t.pendingLanes,i&1?t===ua?Nn++:(Nn=0,ua=t):Nn=0,Kt(),null}function Wr(){if(It!==null){var t=Kc(li),e=Ke.transition,r=Q;try{if(Ke.transition=null,Q=16>t?16:t,It===null)var n=!1;else{if(t=It,It=null,li=0,K&6)throw Error(L(331));var s=K;for(K|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:jn(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var p=d.sibling,v=d.return;if(ih(d),d===c){$=null;break}if(p!==null){p.return=v,$=p;break}$=v}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var f=t.current;for($=f;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bi(9,a)}}catch(T){oe(a,a.return,T)}if(a===o){$=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,$=w;break e}$=a.return}}if(K=s,Kt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(pi,t)}catch{}n=!0}return n}finally{Q=r,Ke.transition=e}}return!1}function Au(t,e,r){e=Qr(r,e),e=Kd(t,e,1),t=zt(t,e,1),e=Pe(),t!==null&&(Xn(t,1,e),Ue(t,e))}function oe(t,e,r){if(t.tag===3)Au(t,t,r);else for(;e!==null;){if(e.tag===3){Au(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ft===null||!Ft.has(n))){t=Qr(r,t),t=Qd(e,t,1),e=zt(e,t,1),t=Pe(),e!==null&&(Xn(e,1,t),Ue(e,t));break}}e=e.return}}function vm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pe(),t.pingedLanes|=t.suspendedLanes&r,ye===t&&(_e&r)===r&&(me===4||me===3&&(_e&130023424)===_e&&500>le()-cl?ar(t,0):ul|=r),Ue(t,e)}function mh(t,e){e===0&&(t.mode&1?(e=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):e=1);var r=Pe();t=kt(t,e),t!==null&&(Xn(t,e,r),Ue(t,r))}function ym(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),mh(t,r)}function wm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(e),mh(t,r)}var gh;gh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$e.current)Ie=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ie=!1,om(t,e,r);Ie=!!(t.flags&131072)}else Ie=!1,re&&e.flags&1048576&&xd(e,Zs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ms(t,e),t=e.pendingProps;var s=Vr(e,Ne.current);Br(e,r),s=nl(null,e,n,t,s,r);var i=sl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Me(n)?(i=!0,Ys(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xa(e),s.updater=_i,e.stateNode=s,s._reactInternals=e,Yo(e,n,t,r),e=ea(null,e,n,!0,i,r)):(e.tag=0,re&&i&&Va(e),Ce(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ms(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=_m(n),t=et(n,t),s){case 0:e=Zo(null,e,n,t,r);break e;case 1:e=ku(null,e,n,t,r);break e;case 11:e=_u(null,e,n,t,r);break e;case 14:e=bu(null,e,n,et(n.type,t),r);break e}throw Error(L(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),Zo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),ku(t,e,n,s,r);case 3:e:{if(Zd(e),t===null)throw Error(L(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Ed(t,e),ri(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qr(Error(L(423)),e),e=Su(t,e,n,r,s);break e}else if(n!==s){s=Qr(Error(L(424)),e),e=Su(t,e,n,r,s);break e}else for(ze=Dt(e.stateNode.containerInfo.firstChild),Fe=e,re=!0,nt=null,r=Sd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),n===s){e=St(t,e,r);break e}Ce(t,e,n,r)}e=e.child}return e;case 5:return Nd(e),t===null&&Ko(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Wo(n,s)?o=null:i!==null&&Wo(n,i)&&(e.flags|=32),Xd(t,e),Ce(t,e,o,r),e.child;case 6:return t===null&&Ko(e),null;case 13:return eh(t,e,r);case 4:return Za(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gr(e,null,n,r):Ce(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),_u(t,e,n,s,r);case 7:return Ce(t,e,e.pendingProps,r),e.child;case 8:return Ce(t,e,e.pendingProps.children,r),e.child;case 12:return Ce(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Y(ei,n._currentValue),n._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!$e.current){e=St(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=xt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Qo(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Qo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Br(e,r),s=Je(s),n=n(s),e.flags|=1,Ce(t,e,n,r),e.child;case 14:return n=e.type,s=et(n,e.pendingProps),s=et(n.type,s),bu(t,e,n,s,r);case 15:return Jd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),Ms(t,e),e.tag=1,Me(n)?(t=!0,Ys(e)):t=!1,Br(e,r),Gd(e,n,s),Yo(e,n,s,r),ea(null,e,n,!0,t,r);case 19:return th(t,e,r);case 22:return Yd(t,e,r)}throw Error(L(156,e.tag))};function vh(t,e){return Hc(t,e)}function xm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,r,n){return new xm(t,e,r,n)}function pl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _m(t){if(typeof t=="function")return pl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Aa)return 11;if(t===Ra)return 14}return 2}function Wt(t,e){var r=t.alternate;return r===null?(r=Ge(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function zs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")pl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Nr:return lr(r.children,s,i,e);case La:o=8,s|=8;break;case _o:return t=Ge(12,r,e,s|2),t.elementType=_o,t.lanes=i,t;case bo:return t=Ge(13,r,e,s),t.elementType=bo,t.lanes=i,t;case ko:return t=Ge(19,r,e,s),t.elementType=ko,t.lanes=i,t;case Nc:return Si(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jc:o=10;break e;case Ec:o=9;break e;case Aa:o=11;break e;case Ra:o=14;break e;case Ct:o=16,n=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Ge(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function lr(t,e,r,n){return t=Ge(7,t,n,e),t.lanes=r,t}function Si(t,e,r,n){return t=Ge(22,t,n,e),t.elementType=Nc,t.lanes=r,t.stateNode={isHidden:!1},t}function ao(t,e,r){return t=Ge(6,t,null,e),t.lanes=r,t}function lo(t,e,r){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ml(t,e,r,n,s,i,o,a,l){return t=new bm(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(i),t}function km(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yh(t){if(!t)return Vt;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Me(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var r=t.type;if(Me(r))return yd(t,r,e)}return e}function wh(t,e,r,n,s,i,o,a,l){return t=ml(r,n,!0,t,s,i,o,a,l),t.context=yh(null),r=t.current,n=Pe(),s=Bt(r),i=xt(n,s),i.callback=e??null,zt(r,i,s),t.current.lanes=s,Xn(t,s,n),Ue(t,n),t}function ji(t,e,r,n){var s=e.current,i=Pe(),o=Bt(s);return r=yh(r),e.context===null?e.context=r:e.pendingContext=r,e=xt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=zt(s,e,o),t!==null&&(it(t,s,o,i),Rs(t,s,o)),o}function ci(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ru(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gl(t,e){Ru(t,e),(t=t.alternate)&&Ru(t,e)}function Sm(){return null}var xh=typeof reportError=="function"?reportError:function(t){console.error(t)};function vl(t){this._internalRoot=t}Ei.prototype.render=vl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));ji(t,e,null,null)};Ei.prototype.unmount=vl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){ji(null,t,null,null)}),e[bt]=null}};function Ei(t){this._internalRoot=t}Ei.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ot.length&&e!==0&&e<Ot[r].priority;r++);Ot.splice(r,0,t),r===0&&Zc(t)}};function yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ni(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iu(){}function jm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ci(o);i.call(c)}}var o=wh(e,n,t,0,null,!1,!1,"",Iu);return t._reactRootContainer=o,t[bt]=o.current,zn(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ci(l);a.call(c)}}var l=ml(t,0,!1,null,null,!1,!1,"",Iu);return t._reactRootContainer=l,t[bt]=l.current,zn(t.nodeType===8?t.parentNode:t),fr(function(){ji(e,l,r,n)}),l}function Ti(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ci(o);a.call(l)}}ji(e,o,t,s)}else o=jm(r,e,t,s,n);return ci(o)}Qc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=gn(e.pendingLanes);r!==0&&(Ma(e,r|1),Ue(e,le()),!(K&6)&&(Jr=le()+500,Kt()))}break;case 13:fr(function(){var n=kt(t,1);if(n!==null){var s=Pe();it(n,t,1,s)}}),gl(t,1)}};Ua=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var r=Pe();it(e,t,134217728,r)}gl(t,134217728)}};Jc=function(t){if(t.tag===13){var e=Bt(t),r=kt(t,e);if(r!==null){var n=Pe();it(r,t,e,n)}gl(t,e)}};Yc=function(){return Q};Xc=function(t,e){var r=Q;try{return Q=t,e()}finally{Q=r}};Ao=function(t,e,r){switch(e){case"input":if(Eo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=yi(n);if(!s)throw Error(L(90));Cc(n),Eo(n,s)}}}break;case"textarea":Oc(t,r);break;case"select":e=r.value,e!=null&&Ur(t,!!r.multiple,e,!1)}};Uc=dl;Dc=fr;var Em={usingClientEntryPoint:!1,Events:[es,Or,yi,$c,Mc,dl]},hn={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:hn.bundleType,version:hn.version,rendererPackageName:hn.rendererPackageName,rendererConfig:hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bc(t),t===null?null:t.stateNode},findFiberByHostInstance:hn.findFiberByHostInstance||Sm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{pi=bs.inject(Nm),ht=bs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Em;We.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yl(e))throw Error(L(200));return km(t,e,null,r)};We.createRoot=function(t,e){if(!yl(t))throw Error(L(299));var r=!1,n="",s=xh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ml(t,1,!1,null,null,r,!1,n,s),t[bt]=e.current,zn(t.nodeType===8?t.parentNode:t),new vl(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Bc(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return fr(t)};We.hydrate=function(t,e,r){if(!Ni(e))throw Error(L(200));return Ti(null,t,e,!0,r)};We.hydrateRoot=function(t,e,r){if(!yl(t))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=xh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=wh(e,null,t,1,r??null,s,!1,i,o),t[bt]=e.current,zn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ei(e)};We.render=function(t,e,r){if(!Ni(e))throw Error(L(200));return Ti(null,t,e,!1,r)};We.unmountComponentAtNode=function(t){if(!Ni(t))throw Error(L(40));return t._reactRootContainer?(fr(function(){Ti(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};We.unstable_batchedUpdates=dl;We.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ni(r))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Ti(t,e,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function _h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_h)}catch(t){console.error(t)}}_h(),_c.exports=We;var Tm=_c.exports,bh,$u=Tm;bh=$u.createRoot,$u.hydrateRoot;const Cm=()=>u.jsxs("div",{className:"bg-animation",children:[u.jsx("div",{className:"aurora-line aurora1",style:{"--rotation":"-45deg"}}),u.jsx("div",{className:"aurora-line aurora2",style:{"--rotation":"35deg"}}),u.jsx("div",{className:"aurora-line aurora3",style:{"--rotation":"-20deg"}}),u.jsx("div",{className:"floating-particles particle1"}),u.jsx("div",{className:"floating-particles particle2"}),u.jsx("div",{className:"floating-particles particle3"}),u.jsx("div",{className:"floating-particles particle4"})]}),Ci=({size:t=120,className:e=""})=>u.jsx("div",{className:`medical-logo ${e}`,style:{width:t,height:t},children:u.jsxs("svg",{width:t,height:t,viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"var(--primary-cyan)"}),u.jsx("stop",{offset:"100%",stopColor:"var(--primary-purple)"})]}),u.jsxs("linearGradient",{id:"crossGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),u.jsx("stop",{offset:"100%",stopColor:"#f0f9ff"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("circle",{cx:"60",cy:"60",r:"58",fill:"url(#logoGradient)",stroke:"rgba(255,255,255,0.2)",strokeWidth:"2",filter:"url(#glow)"}),u.jsx("circle",{cx:"60",cy:"60",r:"45",fill:"rgba(255,255,255,0.1)",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1"}),u.jsxs("g",{transform:"translate(60, 60)",children:[u.jsx("rect",{x:"-4",y:"-20",width:"8",height:"40",rx:"4",fill:"url(#crossGradient)",filter:"url(#glow)"}),u.jsx("rect",{x:"-20",y:"-4",width:"40",height:"8",rx:"4",fill:"url(#crossGradient)",filter:"url(#glow)"})]}),u.jsx("circle",{cx:"85",cy:"35",r:"6",fill:"none",stroke:"rgba(255,255,255,0.8)",strokeWidth:"2"}),u.jsx("circle",{cx:"85",cy:"35",r:"3",fill:"rgba(255,255,255,0.6)"}),u.jsx("path",{d:"M 85 41 Q 88 50 85 60 Q 82 70 75 75",fill:"none",stroke:"rgba(255,255,255,0.7)",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("path",{d:"M 35 75 C 35 70, 25 70, 25 75 C 25 70, 15 70, 15 75 C 15 85, 35 95, 35 95 C 35 95, 55 85, 55 75 C 55 70, 45 70, 45 75 C 45 70, 35 70, 35 75 Z",fill:"rgba(255,255,255,0.6)",transform:"scale(0.3) translate(50, 180)"}),u.jsxs("g",{opacity:"0.2",children:[u.jsx("path",{d:"M 20 20 Q 30 30 20 40 Q 10 50 20 60 Q 30 70 20 80",fill:"none",stroke:"rgba(255,255,255,0.4)",strokeWidth:"1"}),u.jsx("path",{d:"M 100 20 Q 90 30 100 40 Q 110 50 100 60 Q 90 70 100 80",fill:"none",stroke:"rgba(255,255,255,0.4)",strokeWidth:"1"})]}),u.jsx("path",{d:"M 20 90 L 30 90 L 35 80 L 40 100 L 45 70 L 50 90 L 100 90",fill:"none",stroke:"rgba(255,255,255,0.5)",strokeWidth:"2",strokeLinecap:"round",opacity:"0.7"})]})});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const r=M.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>M.createElement("svg",{ref:d,...Pm,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Om(t)}`,a].join(" "),...c},[...e.map(([h,p])=>M.createElement(h,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jh=M.createContext(void 0),Vm=()=>{const t=M.useContext(jh);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},qm=({children:t})=>{const[e,r]=M.useState(()=>localStorage.getItem("medilens-theme")||"dark");M.useEffect(()=>{localStorage.setItem("medilens-theme",e),document.documentElement.setAttribute("data-theme",e)},[e]);const n=()=>{r(s=>s==="light"?"dark":"light")};return u.jsx(jh.Provider,{value:{theme:e,toggleTheme:n},children:t})},xl=()=>{const{theme:t,toggleTheme:e}=Vm();return u.jsxs("button",{onClick:e,className:"theme-toggle p-2 bg-[var(--glass-bg)] border border-[var(--glass-border)] rounded-lg text-[var(--text-secondary)] cursor-pointer transition-all duration-300 hover:bg-[rgba(255,255,255,0.15)] hover:text-[var(--text-primary)] hover:border-[var(--primary-cyan)] hover:shadow-[0_4px_12px_var(--card-hover-shadow)] relative overflow-hidden group",title:`Switch to ${t==="light"?"dark":"light"} mode`,children:[u.jsx("div",{className:"relative z-10 flex items-center justify-center w-5 h-5",children:t==="light"?u.jsx(Dm,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"}):u.jsx(Bm,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] opacity-0 transition-opacity duration-300 group-hover:opacity-10"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 -translate-x-full transition-all duration-500 group-hover:translate-x-full group-hover:opacity-20"})]})},Gm=({isOpen:t,onClose:e})=>t?u.jsx("div",{className:"modal fixed top-0 left-0 w-full h-full bg-[rgba(0,0,0,0.8)] backdrop-blur-[5px] z-[1000] flex justify-center items-center p-5",children:u.jsxs("div",{className:"modal-content bg-[var(--glass-bg)] backdrop-blur-[30px] border border-[var(--glass-border)] rounded-[20px] p-8 max-w-[700px] w-full max-h-[80vh] overflow-y-auto relative",children:[u.jsxs("div",{className:"modal-header flex justify-between items-center mb-6 sticky top-0 bg-[var(--glass-bg)] backdrop-blur-[30px] pb-4 border-b border-[var(--glass-border)]",children:[u.jsxs("h2",{className:"modal-title font-['Orbitron'] text-2xl font-semibold text-[var(--text-primary)] flex items-center gap-3",children:[u.jsx(Tn,{className:"w-6 h-6 text-[var(--primary-cyan)]"}),"Terms & Conditions"]}),u.jsx("button",{onClick:e,className:"close-btn bg-none border-none text-[var(--text-muted)] text-2xl cursor-pointer p-1 hover:text-[var(--text-primary)] transition-colors duration-200",children:u.jsx(rs,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"terms-content text-[var(--text-secondary)] leading-[1.7] space-y-6",children:[u.jsxs("div",{className:"terms-section",children:[u.jsxs("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:[u.jsx(Tn,{className:"w-5 h-5 text-[var(--primary-cyan)]"}),"Terms & Conditions"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"term-item",children:[u.jsx("h4",{className:"font-semibold text-[var(--text-primary)] mb-2",children:"1. Acceptance of Terms"}),u.jsx("p",{children:"By creating an account or signing in to MediLens, you agree to comply with and be bound by these Terms of Use. If you do not agree, please do not use MediLens."})]}),u.jsxs("div",{className:"term-item",children:[u.jsx("h4",{className:"font-semibold text-[var(--text-primary)] mb-2",children:"2. User Responsibilities"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[u.jsx("li",{children:"You agree to provide accurate and complete information during signup."}),u.jsx("li",{children:"You are responsible for maintaining the confidentiality of your login credentials."}),u.jsx("li",{children:"You agree not to use MediLens for unlawful, harmful, or unauthorized purposes."})]})]}),u.jsxs("div",{className:"term-item",children:[u.jsx("h4",{className:"font-semibold text-[var(--text-primary)] mb-2",children:"3. Privacy & Data"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[u.jsx("li",{children:"MediLens may collect and process certain personal information in accordance with our Privacy Policy."}),u.jsx("li",{children:"Your data will not be sold to third parties and will be used only to provide and improve our services."})]})]}),u.jsxs("div",{className:"term-item",children:[u.jsx("h4",{className:"font-semibold text-[var(--text-primary)] mb-2",children:"4. Service Limitations"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[u.jsx("li",{children:"MediLens is a digital platform intended to assist with healthcare-related insights and information."}),u.jsx("li",{children:"It is not a substitute for professional medical advice, diagnosis, or treatment."})]})]}),u.jsxs("div",{className:"term-item",children:[u.jsx("h4",{className:"font-semibold text-[var(--text-primary)] mb-2",children:"5. Termination of Use"}),u.jsx("p",{children:"MediLens reserves the right to suspend or terminate accounts that violate these terms."})]}),u.jsxs("div",{className:"term-item",children:[u.jsx("h4",{className:"font-semibold text-[var(--text-primary)] mb-2",children:"6. Updates to Terms"}),u.jsx("p",{children:"We may update these Terms of Use at any time. Continued use of MediLens means you accept the updated terms."})]})]})]}),u.jsxs("div",{className:"disclaimer-section border-t border-[var(--glass-border)] pt-6",children:[u.jsxs("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:[u.jsx(Sh,{className:"w-5 h-5 text-[var(--primary-purple)]"}),"Disclaimer"]}),u.jsxs("div",{className:"disclaimer-content bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.2)] rounded-xl p-4 space-y-3",children:[u.jsx("p",{className:"font-medium text-[var(--text-primary)]",children:"Important Medical Disclaimer:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:" MediLens is an information and support platform designed to enhance healthcare accessibility."}),u.jsx("li",{children:" MediLens does not provide medical advice, diagnosis, or treatment."}),u.jsx("li",{children:" Always seek the advice of a qualified healthcare provider with any questions you may have regarding a medical condition."}),u.jsx("li",{children:" Never disregard or delay seeking professional medical advice because of information provided on MediLens."}),u.jsx("li",{children:" Use of MediLens is at your own risk, and the platform and its providers are not responsible for any decisions made based on the information provided."})]})]})]})]}),u.jsx("div",{className:"modal-footer mt-8 pt-4 border-t border-[var(--glass-border)] text-center",children:u.jsx("button",{onClick:e,className:"close-button p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)]",children:"I Understand"})})]})}):null,Km="modulepreload",Qm=function(t){return"/"+t},Bu={},ns=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Qm(l),l in Bu)return;Bu[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Km,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Jm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ns(async()=>{const{default:n}=await Promise.resolve().then(()=>tn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class _l extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ym extends _l{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wu extends _l{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hu extends _l{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ha;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ha||(ha={}));var Xm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Zm{constructor(e,{headers:r={},customFetch:n,region:s=ha.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Jm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Xm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(b=>{throw new Ym(b)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Wu(h);if(!h.ok)throw new Hu(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield h.json():v==="application/octet-stream"?x=yield h.blob():v==="text/event-stream"?x=h:v==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Hu||s instanceof Wu?s.context:void 0}}})}}var Re={},bl={},Oi={},ss={},Li={},Ai={},eg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yr=eg();const tg=Yr.fetch,Eh=Yr.fetch.bind(Yr),Nh=Yr.Headers,rg=Yr.Request,ng=Yr.Response,tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nh,Request:rg,Response:ng,default:Eh,fetch:tg},Symbol.toStringTag,{value:"Module"})),sg=tf(tn);var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});let ig=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ri.default=ig;var Th=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});const og=Th(sg),ag=Th(Ri);let lg=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=og.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,h=null,p=null,v=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const P=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");P&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const P=await i.text();try{d=JSON.parse(P),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,x="OK")}catch{i.status===404&&P===""?(v=204,x="No Content"):d={message:P}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,x="OK"),d&&this.shouldThrowOnError)throw new ag.default(d)}return{error:d,data:h,count:p,status:v,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ai.default=lg;var ug=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const cg=ug(Ai);let dg=class extends cg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Li.default=dg;var hg=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});const fg=hg(Li);let pg=class extends fg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ss.default=pg;var mg=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const fn=mg(ss);let gg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new fn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new fn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new fn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new fn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Oi.default=gg;var Ch=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bl,"__esModule",{value:!0});const vg=Ch(Oi),yg=Ch(ss);let wg=class Ph{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new vg.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ph(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new yg.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};bl.default=wg;var rn=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const Oh=rn(bl);Re.PostgrestClient=Oh.default;const Lh=rn(Oi);Re.PostgrestQueryBuilder=Lh.default;const Ah=rn(ss);Re.PostgrestFilterBuilder=Ah.default;const Rh=rn(Li);Re.PostgrestTransformBuilder=Rh.default;const Ih=rn(Ai);Re.PostgrestBuilder=Ih.default;const $h=rn(Ri);Re.PostgrestError=$h.default;var xg=Re.default={PostgrestClient:Oh.default,PostgrestQueryBuilder:Lh.default,PostgrestFilterBuilder:Ah.default,PostgrestTransformBuilder:Rh.default,PostgrestBuilder:Ih.default,PostgrestError:$h.default};const{PostgrestClient:_g,PostgrestQueryBuilder:zy,PostgrestFilterBuilder:Fy,PostgrestTransformBuilder:By,PostgrestBuilder:Wy,PostgrestError:Hy}=xg;class bg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kg="2.15.5",Sg=`realtime-js/${kg}`,jg="1.0.0",fa=1e4,Eg=1e3,Ng=100;var Cn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cn||(Cn={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var pa;(function(t){t.websocket="websocket"})(pa||(pa={}));var nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nr||(nr={}));class Tg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Mh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const Vu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Cg(o,t,e,s),i),{})},Cg=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Uh(i,o):ma(o)},Uh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ag(e,r)}switch(t){case J.bool:return Pg(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Og(e);case J.json:case J.jsonb:return Lg(e);case J.timestamp:return Rg(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return ma(e);default:return ma(e)}},ma=t=>t,Pg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Og=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Lg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ag=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Uh(e,a))}return t},Rg=t=>typeof t=="string"?t.replace(" ","T"):t,Dh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class uo{constructor(e,r,n={},s=fa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qu||(qu={}));class Pn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Pn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(P=>P.presence_ref),v=h.map(P=>P.presence_ref),x=d.filter(P=>v.indexOf(P.presence_ref)<0),b=h.filter(P=>p.indexOf(P.presence_ref)<0);x.length>0&&(a[c]=x),b.length>0&&(l[c]=b)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...p)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gu||(Gu={}));var On;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(On||(On={}));var gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class kl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uo(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Mh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Pn(this),this.broadcastEndpointURL=Dh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[On.PRESENCE]&&this.bindings[On.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(gt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(gt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,P=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,g=[];for(let f=0;f<P;f++){const m=b[f],{filter:{event:w,schema:T,table:S,filter:C}}=m,O=v&&v[f];if(O&&O.event===w&&O.schema===T&&O.table===S&&O.filter===C)g.push(Object.assign(Object.assign({},m),{id:O.id}));else{this.unsubscribe(),this.state=he.errored,e==null||e(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(gt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,e==null||e(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===he.joined&&e===On.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new uo(this,rt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ng){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=rt;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,b,P;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((P=(b=v.filter)===null||b===void 0?void 0:b.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,b,P,g,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,T=(x=v.filter)===null||x===void 0?void 0:x.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const w=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:b,table:P,commit_timestamp:g,type:f,errors:m}=x;p=Object.assign(Object.assign({},{schema:b,table:P,commit_timestamp:g,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(x))}v.callback(p,n)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&kl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Vu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Vu(e.columns,e.old_record)),r}}const co=()=>{},ks={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ig=[1e3,2e3,5e3,1e4],$g=1e4,Mg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ug{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fa,this.transport=null,this.heartbeatIntervalMs=ks.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=co,this.ref=0,this.reconnectTimer=null,this.logger=co,this.conn=null,this.sendBuffer=[],this.serializer=new Tg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ns(async()=>{const{default:a}=await Promise.resolve().then(()=>tn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${pa.websocket}`,this.httpEndpoint=Dh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cn.connecting:return nr.Connecting;case Cn.open:return nr.Open;case Cn.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new kl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Eg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ks.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Mg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Sg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ks.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:fa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ks.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:co,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Ig[h-1]||$g,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Sl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Dg extends Sl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ga extends Sl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var zg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ns(async()=>{const{default:n}=await Promise.resolve().then(()=>tn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Fg=()=>zg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ns(()=>Promise.resolve().then(()=>tn),void 0)).Response:Response}),va=t=>{if(Array.isArray(t))return t.map(r=>va(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=va(n)}),e},Bg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var gr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ho=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wg=(t,e,r)=>gr(void 0,void 0,void 0,function*(){const n=yield Fg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Dg(ho(s),i,o))}).catch(s=>{e(new ga(ho(s),s))}):e(new ga(ho(t),t))}),Hg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Bg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function is(t,e,r,n,s,i){return gr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Hg(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Wg(l,a,n))})})}function di(t,e,r,n){return gr(this,void 0,void 0,function*(){return is(t,"GET",e,r,n)})}function ct(t,e,r,n,s){return gr(this,void 0,void 0,function*(){return is(t,"POST",e,n,s,r)})}function ya(t,e,r,n,s){return gr(this,void 0,void 0,function*(){return is(t,"PUT",e,n,s,r)})}function Vg(t,e,r,n){return gr(this,void 0,void 0,function*(){return is(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fh(t,e,r,n,s){return gr(this,void 0,void 0,function*(){return is(t,"DELETE",e,n,s,r)})}var Te=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const qg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ku={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=zh(s)}uploadOrUpdate(e,r,n,s){return Te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ku),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?ya:ct)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Ku.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield ya(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Sl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}update(e,r,n){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Te(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Te(this,void 0,void 0,function*(){try{const s=yield ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}download(e,r){return Te(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield di(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}info(e){return Te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield di(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:va(n),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}exists(e){return Te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Vg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(fe(n)&&n instanceof ga){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}list(e,r,n){return Te(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qg),r),{prefix:e||""});return{data:yield ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}listV2(e,r){return Te(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Kg="2.11.1",Qg={"X-Client-Info":`storage-js/${Kg}`};var yr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Jg{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Qg),r),this.fetch=zh(n)}listBuckets(){return yr(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return yr(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return yr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return yr(this,void 0,void 0,function*(){try{return{data:yield ya(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return yr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return yr(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}}class Yg extends Jg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Gg(this.url,this.headers,e,this.fetch)}}const Xg="2.57.2";let yn="";typeof Deno<"u"?yn="deno":typeof document<"u"?yn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yn="react-native":yn="node";const Zg={"X-Client-Info":`supabase-js-${yn}/${Xg}`},ev={headers:Zg},tv={schema:"public"},rv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nv={};var sv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const iv=t=>{let e;return t?e=t:typeof fetch>"u"?e=Eh:e=fetch,(...r)=>e(...r)},ov=()=>typeof Headers>"u"?Nh:Headers,av=(t,e,r)=>{const n=iv(r),s=ov();return(i,o)=>sv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var lv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function uv(t){return t.endsWith("/")?t:t+"/"}function cv(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>lv(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Bh="2.71.1",Sr=30*1e3,wa=3,fo=wa*Sr,dv="http://localhost:9999",hv="supabase.auth.token",fv={"X-Client-Info":`gotrue-js/${Bh}`},xa="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mv=10*60*1e3;class jl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gv extends jl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vv(t){return B(t)&&t.name==="AuthApiError"}class Hh extends jl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qt extends jl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Tt extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yv(t){return B(t)&&t.name==="AuthSessionMissingError"}class Ss extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class js extends Qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Es extends Qt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wv(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qu extends Qt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _a extends Qt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function po(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Ju extends Qt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ba extends Qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yu=` 	
\r=`.split(""),xv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yu.length;e+=1)t[Yu[e].charCodeAt(0)]=-2;for(let e=0;e<hi.length;e+=1)t[hi[e].charCodeAt(0)]=e;return t})();function Xu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hi[n]),e.queuedBits-=6}}function Vh(t,e,r){const n=xv[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{kv(o,n,r)};for(let o=0;o<t.length;o+=1)Vh(t.charCodeAt(o),s,i);return e.join("")}function _v(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bv(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}_v(n,e)}}function kv(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Sv(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Vh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function jv(t){const e=[];return bv(t,r=>e.push(r)),new Uint8Array(e)}function Ev(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Xu(s,r,n)),Xu(null,r,n),e.join("")}function Nv(t){return Math.round(Date.now()/1e3)+t}function Tv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",Yt={tested:!1,writable:!1},qh=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function Cv(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Gh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ns(async()=>{const{default:n}=await Promise.resolve().then(()=>tn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Pv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Xt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nt=async(t,e)=>{await t.removeItem(e)};class Ii{constructor(){this.promise=new Ii.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ii.promiseConstructor=Promise;function mo(t){const e=t.split(".");if(e.length!==3)throw new ba("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!pv.test(e[n]))throw new ba("JWT not in base64url format");return{header:JSON.parse(Zu(e[0])),payload:JSON.parse(Zu(e[1])),signature:Sv(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ov(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lv(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Av(t){return("0"+t.toString(16)).substr(-2)}function Rv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Av).join("")}async function Iv(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function $v(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Iv(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wr(t,e,r=!1){const n=Rv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await jr(t,`${e}-code-verifier`,s);const i=await $v(n);return[i,n===i?"plain":"s256"]}const Mv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uv(t){const e=t.headers.get(xa);if(!e||!e.match(Mv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Dv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xr(t){if(!Fv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function go(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ec(t){return JSON.parse(JSON.stringify(t))}var Bv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const rr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wv=[502,503,504];async function tc(t){var e;if(!Pv(t))throw new _a(rr(t),0);if(Wv.includes(t.status))throw new _a(rr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Hh(rr(i),i)}let n;const s=Uv(t);if(s&&s.getTime()>=Wh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ju(rr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ju(rr(r),t.status,r.weak_password.reasons);throw new gv(rr(r),t.status||500,n)}const Hv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function V(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[xa]||(i[xa]=Wh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Vv(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Vv(t,e,r,n,s,i){const o=Hv(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new _a(rr(l),0)}if(a.ok||await tc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await tc(l)}}function pt(t){var e;let r=null;Qv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Nv(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function rc(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qv(t){return{data:t,error:null}}function Gv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Bv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Kv(t){return t}function Qv(t){return t.access_token&&t.refresh_token&&t.expires_in}const vo=["global","local","others"];var Jv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Yv{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Gh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=vo[0]){if(vo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vo.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Jv(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Gv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Kv});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(x.split(";")[1].split("=")[1]);c[`${P}Page`]=b}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(B(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){xr(e);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){xr(e);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:At})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){xr(e);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){xr(e.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(e){xr(e.userId),xr(e.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}function nc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Xv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _r={debug:!!(globalThis&&qh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zv extends Kh{}async function e0(t,e,r){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),_r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw _r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_r.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Xv();const t0={url:dv,storageKey:hv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sc(t,e,r){return await r()}const br={};class Jn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jn.nextInstanceID,Jn.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},t0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Yv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gh(s.fetch),this.lock=s.lock||sc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ze()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=e0:this.lock=sc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=nc(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=br[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=br[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Cv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ze()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wv(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?{error:r}:{error:new Hh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await wr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:pt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:pt})}else throw new js("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rc})}else throw new js("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ss}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,p,v;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:P,wallet:g,statement:f,options:m}=e;let w;if(Ze())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const T=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),f?{statement:f}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),b=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:P,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ev(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pt});if(g)throw g;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Ss}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:g})}catch(P){if(B(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(e){const r=await Xt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pt});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ss}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ss}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await wr(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new js("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await wr(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qv})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Tt;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new js("You must provide either an email or phone number and a type")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Xt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Xt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=go()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(r){if(B(r))return yv(r)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Tt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await wr(this.storage,this.storageKey));const{data:c,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:At});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=mo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(B(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Tt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ze())throw new Es("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Es(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Es("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qu("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Es("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const v=p-d;v*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=p-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:b,error:P}=await this._getUser(i);if(P)throw P;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Xt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(vv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Tv(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await wr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ze()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Lv(async s=>(s>0&&await Ov(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&po(i)&&Date.now()+o-n<Sr})}catch(n){if(this._debug(r,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ze()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Xt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Xt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await jr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:go()}else if(s&&!s.user&&!s.user){const o=await Xt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Nt(this.storage,this.storageKey+"-user"),await jr(this.storage,this.storageKey,s)):s.user=go()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),po(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ii;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return po(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=ec(s);await jr(this.storage,this.storageKey,i)}else{const s=ec(r);await jr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sr}ms, refresh threshold is ${wa} ticks`),s<=wa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await wr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+mv>s)return n;const{data:i,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=mo(n);r!=null&&r.allowExpired||Dv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=zv(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,jv(`${a}.${l}`)))throw new ba("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}Jn.nextInstanceID=0;const r0=Jn;class n0 extends r0{constructor(e){super(e)}}var s0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class i0{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=uv(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:tv,realtime:nv,auth:Object.assign(Object.assign({},rv),{storageKey:c}),global:ev},h=cv(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=av(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new _g(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Yg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Zm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return s0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n0({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ug(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const o0=(t,e,r)=>new i0(t,e,r);function a0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}a0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const l0="https://wtfsqfhdpbjvkswzugoa.supabase.co",u0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind0ZnNxZmhkcGJqdmtzd3p1Z29hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNTY4MTIsImV4cCI6MjA3MjczMjgxMn0.1vZ9iXbE5GA3pvYO2fedDCkbc4wqimm01yS-6nfaioY",we=o0(l0,u0),$i=async()=>{if(!we)return null;const{data:{user:t},error:e}=await we.auth.getUser();return e?(console.error("Error getting current user:",e),null):t},c0=async(t,e,r)=>{if(!we)return null;const{data:n,error:s}=await we.auth.signUp({email:t,password:e,options:{data:{name:r}}});return s?(console.error("Error signing up:",s),null):n},d0=async(t,e)=>{if(!we)return null;const{data:r,error:n}=await we.auth.signInWithPassword({email:t,password:e});return n?(console.error("Error signing in:",n),null):r},h0=async()=>{if(!we)return;const{error:t}=await we.auth.signOut();t&&console.error("Error signing out:",t)},f0=async t=>{if(!we)return console.warn("Supabase not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables."),null;const e=await $i();if(!e)return console.error("User not authenticated"),null;try{const{data:r,error:n}=await we.from("chat_sessions").insert([{user_id:e.id,title:t.title||"New Chat",context:t.context}]).select().single();return n?(console.error("Error creating chat session:",n),null):r}catch(r){return console.error("Error in createChatSession:",r),null}},ka=async()=>{if(!we)return console.warn("Supabase not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables."),[];const t=await $i();if(!t)return console.error("User not authenticated"),[];try{const{data:e,error:r}=await we.from("chat_sessions").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});return r?(console.error("Error fetching chat sessions:",r),[]):e||[]}catch(e){return console.error("Error in getChatSessions:",e),[]}},Ns=async t=>{if(!we)return console.warn("Supabase not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables."),null;try{const{data:e,error:r}=await we.from("chat_messages").insert([{session_id:t.session_id,type:t.type,content:t.content,attachment_type:t.attachment_type||null}]).select().single();return r?(console.error("Error inserting chat message:",r),null):e}catch(e){return console.error("Error in insertChatMessage:",e),null}},Qh=async t=>{if(!we)return console.warn("Supabase not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables."),[];try{const{data:e,error:r}=await we.from("chat_messages").select("*").eq("session_id",t).order("created_at",{ascending:!0});return r?(console.error("Error fetching chat messages:",r),[]):e||[]}catch(e){return console.error("Error in getChatMessages:",e),[]}},p0=async t=>{if(!we)return console.warn("Supabase not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables."),!1;try{const{error:e}=await we.from("chat_sessions").delete().eq("id",t);return e?(console.error("Error deleting chat session:",e),!1):!0}catch(e){return console.error("Error in deleteChatSession:",e),!1}},m0=({onLogin:t})=>{const[e,r]=M.useState("login"),[n,s]=M.useState({email:"",password:"",name:"",confirmPassword:""}),[i,o]=M.useState(!1),[a,l]=M.useState(!1),[c,d]=M.useState(""),[h,p]=M.useState(!1),[v,x]=M.useState(""),[b,P]=M.useState(!1),[g,f]=M.useState(!1),[m,w]=M.useState(!1),[T,S]=M.useState(!1),C=H=>{r(H),s({email:"",password:"",name:"",confirmPassword:""}),l(!1),o(!1),d(""),x(""),w(!1),S(!1)},O=(H,ge)=>{s(D=>({...D,[H]:ge}))},F=H=>H.length<6?{isValid:!1,message:"Password must be at least 6 characters long"}:/(?=.*[a-z])/.test(H)?/(?=.*[A-Z])/.test(H)?/(?=.*\d)/.test(H)?{isValid:!0,message:""}:{isValid:!1,message:"Password must contain at least one number"}:{isValid:!1,message:"Password must contain at least one uppercase letter"}:{isValid:!1,message:"Password must contain at least one lowercase letter"},R=H=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H),W=async H=>{H.preventDefault(),p(!0),l(!1),o(!1),d(""),x("");const{email:ge,password:D,name:N,confirmPassword:_}=n,y=ge.trim(),j=N.trim();await new Promise(A=>setTimeout(A,1e3));try{if(e==="signup"){if(!b)throw new Error("You must accept the Terms & Conditions to create an account");if(!j||j.length<2)throw new Error("Name must be at least 2 characters long");if(!R(y))throw new Error("Please enter a valid email address");const A=F(D);if(!A.isValid)throw new Error(A.message);if(D!==_)throw new Error("Passwords do not match");const k=await c0(y,D,j);if(!k)throw new Error("Failed to create account. Please try again.");if(k.user)x("Account created successfully! You are now logged in."),o(!0),setTimeout(()=>{t({email:y,name:j,id:k.user.id})},1500);else throw new Error("Account created but login failed. Please try logging in.")}else if(e==="login"){if(!R(y))throw new Error("Please enter a valid email address");if(!D)throw new Error("Please enter your password");const A=await d0(y,D);if(!A)throw new Error("Invalid email or password");if(A.user)x("Login successful! Welcome back."),o(!0),setTimeout(()=>{var k;t({email:A.user.email||y,name:((k=A.user.user_metadata)==null?void 0:k.name)||"User",id:A.user.id})},1e3);else throw new Error("Login failed. Please try again.")}else if(e==="reset")throw new Error("Password reset functionality will be implemented with Supabase Auth. Please contact support for assistance.")}catch(A){d(A.message),l(!0)}p(!1)},X=()=>{C("reset")},ce=()=>{switch(e){case"login":return"Welcome Back!";case"signup":return"Join MediLens";case"reset":return"Reset Password";default:return"Welcome!"}},ke=()=>{switch(e){case"login":return"Sign in to your MediLens account";case"signup":return"Create your healthcare AI account";case"reset":return"Enter your email and new password";default:return""}};return u.jsxs("div",{className:"page auth-page active min-h-screen flex items-center justify-center p-5",children:[u.jsx("div",{className:"fixed top-6 right-6 z-50",children:u.jsx(xl,{})}),u.jsxs("div",{className:"auth-container flex items-center justify-center gap-12 w-full max-w-[1200px]",children:[u.jsx("div",{className:"intro-panel hidden lg:flex lg:flex-col lg:justify-center bg-[var(--glass-bg)] backdrop-blur-[30px] border border-[var(--glass-border)] rounded-3xl p-10 w-full max-w-[500px] h-[700px] shadow-[0_25px_50px_rgba(0,0,0,0.4),inset_0_1px_0_rgba(255,255,255,0.1)] animate-[containerGlow_0.8s_ease-out]",children:u.jsxs("div",{className:"intro-content overflow-hidden",children:[u.jsxs("div",{className:"intro-header mb-8",children:[u.jsx("h2",{className:"intro-title font-['Orbitron'] text-[1.75rem] font-bold bg-gradient-to-r from-[var(--primary-cyan)] via-[#4dd8c4] to-[var(--primary-purple)] bg-clip-text text-transparent mb-4 tracking-[0.02em] leading-tight break-words",children:"Intelligent Healthcare Information Hub"}),u.jsx("p",{className:"intro-description text-[var(--text-secondary)] text-sm leading-[1.6] mb-6 break-words",children:"Upload your prescription photos or type medicine names to get detailed information, usage instructions, side effects, and safety guidelines. Make informed decisions about your healthcare with confidence."})]}),u.jsx("div",{className:"features-list space-y-3 mb-6",children:u.jsxs("ul",{className:"feature-list space-y-2 text-[var(--text-secondary)] text-sm leading-[1.5]",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-[var(--primary-cyan)] font-bold text-base mt-0.5 flex-shrink-0",children:""}),u.jsxs("span",{className:"break-words",children:[u.jsx("strong",{className:"text-[var(--text-primary)]",children:"Secure & Private"})," - Your prescription data is encrypted and never shared"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-[var(--primary-cyan)] font-bold text-base mt-0.5 flex-shrink-0",children:""}),u.jsxs("span",{className:"break-words",children:[u.jsx("strong",{className:"text-[var(--text-primary)]",children:"Expert Verified"})," - All medicine information verified by licensed pharmacists"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-[var(--primary-cyan)] font-bold text-base mt-0.5 flex-shrink-0",children:""}),u.jsxs("span",{className:"break-words",children:[u.jsx("strong",{className:"text-[var(--text-primary)]",children:"24/7 Available"})," - Get medicine information anytime, anywhere, instantly"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-[var(--primary-cyan)] font-bold text-base mt-0.5 flex-shrink-0",children:""}),u.jsxs("span",{className:"break-words",children:[u.jsx("strong",{className:"text-[var(--text-primary)]",children:"Research-Based"})," - Access medical research details from trusted sources for educational purposes"]})]})]})}),u.jsx("div",{className:"trust-indicator text-center p-3 bg-gradient-to-r from-[rgba(0,212,170,0.1)] to-[rgba(107,70,193,0.1)] rounded-xl border border-[rgba(0,212,170,0.2)] mb-6",children:u.jsx("p",{className:"trust-text font-semibold text-[var(--primary-cyan)] text-xs break-words",children:"Trusted by over 100,000+ patients worldwide"})}),u.jsxs("div",{className:"disclaimer-section p-4 bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.2)] rounded-xl",children:[u.jsxs("h4",{className:"disclaimer-title font-['Orbitron'] text-base font-semibold text-[var(--text-primary)] mb-3 flex items-center gap-2 break-words",children:[u.jsx(Sh,{className:"w-5 h-5 text-[rgba(239,68,68,0.8)]"}),"Medical Disclaimer"]}),u.jsxs("div",{className:"disclaimer-content text-[var(--text-secondary)] text-xs leading-[1.5] space-y-2",children:[u.jsx("p",{className:"break-words",children:"MediLens is designed to assist healthcare professionals and patients with medical information management. This platform is not intended to replace professional medical advice, diagnosis, or treatment."}),u.jsx("p",{className:"break-words",children:"Always seek the advice of qualified healthcare providers with any questions regarding medical conditions or treatments."})]})]})]})}),u.jsxs("div",{className:"main-container bg-[var(--glass-bg)] backdrop-blur-[30px] border border-[var(--glass-border)] rounded-3xl p-10 w-full max-w-[500px] h-[700px] flex flex-col justify-center shadow-[0_25px_50px_rgba(0,0,0,0.4),inset_0_1px_0_rgba(255,255,255,0.1)] animate-[containerGlow_0.8s_ease-out]",children:[u.jsxs("div",{className:"logo-section text-center mb-10",children:[u.jsx("div",{className:"mx-auto mb-4",children:u.jsx(Ci,{size:80})}),u.jsx("h1",{className:"brand-title font-['Orbitron'] text-[2.5rem] font-bold bg-gradient-to-r from-[var(--primary-cyan)] via-[#4dd8c4] via-[#7d9ff7] to-[var(--primary-purple)] bg-clip-text text-transparent mb-2 tracking-[0.05em] animate-[titleGlow_3s_ease-in-out_infinite_alternate] break-words",children:"MediLens"}),u.jsx("p",{className:"brand-subtitle font-['Space_Grotesk'] text-[var(--text-secondary)] text-base font-medium mb-6 tracking-[0.03em] uppercase break-words",children:"Clarity  Innovation  Care"})]}),e!=="reset"&&u.jsxs("div",{className:"auth-tabs grid grid-cols-2 bg-[rgba(255,255,255,0.05)] rounded-2xl p-1 mb-6 relative",children:[u.jsx("div",{className:`auth-tab p-3 text-center rounded-xl cursor-pointer transition-all duration-[400ms] cubic-bezier-[0.4,0,0.2,1] font-['Space_Grotesk'] font-semibold text-sm tracking-[0.02em] uppercase relative z-[2] ${e==="login"?"bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white shadow-[0_8px_25px_rgba(0,212,170,0.3)] transform -translate-y-[1px]":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[rgba(255,255,255,0.08)]"}`,onClick:()=>C("login"),children:"LOGIN"}),u.jsx("div",{className:`auth-tab p-3 text-center rounded-xl cursor-pointer transition-all duration-[400ms] cubic-bezier-[0.4,0,0.2,1] font-['Space_Grotesk'] font-semibold text-sm tracking-[0.02em] uppercase relative z-[2] ${e==="signup"?"bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white shadow-[0_8px_25px_rgba(0,212,170,0.3)] transform -translate-y-[1px]":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[rgba(255,255,255,0.08)]"}`,onClick:()=>C("signup"),children:"SIGN UP"})]}),e==="reset"&&u.jsx("div",{className:"reset-header text-center mb-4",children:u.jsx("button",{onClick:()=>C("login"),className:"back-button text-[var(--primary-cyan)] text-sm hover:text-[var(--text-primary)] transition-colors duration-200 mb-2",children:" Back to Login"})}),i&&u.jsx("div",{className:"success-message bg-[rgba(0,212,170,0.1)] border border-[rgba(0,212,170,0.3)] rounded-xl p-3 text-[var(--primary-cyan)] text-sm mb-5 text-center",children:v}),a&&u.jsxs("div",{className:"error-message bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.3)] rounded-xl p-3 text-[#ef4444] text-sm mb-5 text-center",children:[c,c==="Invalid username or password"&&u.jsx("div",{className:"mt-2",children:u.jsx("button",{onClick:X,className:"text-[var(--primary-cyan)] hover:text-[var(--text-primary)] transition-colors duration-200 text-xs underline",children:"Reset Password"})})]}),u.jsxs("form",{className:"auth-form animate-[slideIn_0.4s_cubic-bezier(0.4,0,0.2,1)]",onSubmit:W,children:[u.jsxs("div",{className:"tab-header text-center mb-4",children:[u.jsx("h2",{className:"tab-title font-['Orbitron'] text-[var(--text-primary)] text-xl font-semibold mb-1 tracking-[0.02em] break-words",children:ce()}),u.jsx("p",{className:"tab-subtitle font-['Space_Grotesk'] text-[var(--text-secondary)] text-xs font-normal tracking-[0.01em] break-words",children:ke()})]}),e==="signup"&&u.jsx("div",{className:"form-group mb-4",children:u.jsx("input",{type:"text",name:"name",value:n.name,onChange:H=>O("name",H.target.value),className:"form-input w-full p-3 bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.12)] rounded-xl text-[var(--text-primary)] text-sm transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] placeholder:text-[var(--text-muted)] focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)] focus:bg-[rgba(255,255,255,0.12)]",placeholder:"Full Name",required:!0})}),u.jsx("div",{className:"form-group mb-4",children:u.jsx("input",{type:"email",name:"email",value:n.email,onChange:H=>O("email",H.target.value),className:"form-input w-full p-3 bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.12)] rounded-xl text-[var(--text-primary)] text-sm transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] placeholder:text-[var(--text-muted)] focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)] focus:bg-[rgba(255,255,255,0.12)]",placeholder:"Email Address",required:!0})}),u.jsx("div",{className:"form-group mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:m?"text":"password",name:"password",value:n.password,onChange:H=>O("password",H.target.value),className:"form-input w-full p-3 pr-12 bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.12)] rounded-xl text-[var(--text-primary)] text-sm transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] placeholder:text-[var(--text-muted)] focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)] focus:bg-[rgba(255,255,255,0.12)]",placeholder:e==="reset"?"New Password":"Password",required:!0}),u.jsx("button",{type:"button",onClick:()=>w(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors duration-200 p-1",children:m?u.jsx(Uu,{className:"w-4 h-4"}):u.jsx(Du,{className:"w-4 h-4"})})]})}),(e==="signup"||e==="reset")&&u.jsx("div",{className:"form-group mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:T?"text":"password",name:"confirmPassword",value:n.confirmPassword,onChange:H=>O("confirmPassword",H.target.value),className:"form-input w-full p-3 pr-12 bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.12)] rounded-xl text-[var(--text-primary)] text-sm transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] placeholder:text-[var(--text-muted)] focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)] focus:bg-[rgba(255,255,255,0.12)]",placeholder:"Confirm Password",required:!0}),u.jsx("button",{type:"button",onClick:()=>S(!T),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors duration-200 p-1",children:T?u.jsx(Uu,{className:"w-4 h-4"}):u.jsx(Du,{className:"w-4 h-4"})})]})}),e==="signup"&&u.jsxs("div",{className:"password-requirements text-xs text-[var(--text-muted)] mb-4 p-3 bg-[rgba(255,255,255,0.05)] rounded-lg",children:[u.jsx("p",{className:"mb-1",children:"Password must contain:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"At least 6 characters"}),u.jsx("li",{children:"One uppercase letter"}),u.jsx("li",{children:"One lowercase letter"}),u.jsx("li",{children:"One number"})]})]}),e==="signup"&&u.jsx("div",{className:"terms-checkbox mb-4",children:u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:H=>P(H.target.checked),className:"mt-1 w-4 h-4 text-[var(--primary-cyan)] bg-[rgba(255,255,255,0.08)] border border-[var(--glass-border)] rounded focus:ring-[var(--primary-cyan)] focus:ring-2"}),u.jsxs("span",{className:"text-xs text-[var(--text-secondary)] leading-[1.4] break-words",children:["I agree to the"," ",u.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-[var(--primary-cyan)] hover:text-[var(--text-primary)] transition-colors duration-200 underline font-medium",children:"Terms & Conditions and Privacy Policy"})]})]})}),u.jsxs("button",{type:"submit",disabled:h||e==="signup"&&!b,className:"auth-button w-full p-3 bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-xl font-['Space_Grotesk'] text-sm font-bold tracking-[0.05em] uppercase cursor-pointer transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] mt-2 relative overflow-hidden hover:transform hover:-translate-y-[2px] hover:shadow-[0_15px_40px_rgba(0,212,170,0.4)] active:transform active:translate-y-0 before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:bg-gradient-to-r before:from-transparent before:via-[rgba(255,255,255,0.2)] before:to-transparent before:transition-[left_0.6s_ease] hover:before:left-full disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[e==="login"&&"LOG IN",e==="signup"&&"CREATE ACCOUNT",e==="reset"&&"RESET PASSWORD",h&&u.jsx("div",{className:"loading w-[18px] h-[18px] border-2 border-[rgba(255,255,255,0.3)] border-t-white rounded-full animate-spin ml-2"})]}),u.jsxs("div",{className:"auth-footer text-center mt-6",children:[e==="login"&&u.jsx("a",{href:"#",className:"auth-link text-[var(--primary-cyan)] no-underline font-medium text-xs transition-colors duration-200 hover:text-[var(--text-primary)]",onClick:H=>{H.preventDefault(),X()},children:"Forgot your password?"}),e==="signup"&&u.jsx("a",{href:"#",className:"auth-link text-[var(--primary-cyan)] no-underline font-medium text-xs transition-colors duration-200 hover:text-[var(--text-primary)]",onClick:H=>{H.preventDefault(),C("login")},children:"Already have an account? Log in"})]})]})]})]}),u.jsx(Gm,{isOpen:g,onClose:()=>f(!1)})]})};var g0={exports:{}};(function(t){var e=function(r){var n=Object.prototype,s=n.hasOwnProperty,i=Object.defineProperty||function(_,y,j){_[y]=j.value},o,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function h(_,y,j){return Object.defineProperty(_,y,{value:j,enumerable:!0,configurable:!0,writable:!0}),_[y]}try{h({},"")}catch{h=function(y,j,A){return y[j]=A}}function p(_,y,j,A){var k=y&&y.prototype instanceof m?y:m,E=Object.create(k.prototype),I=new ge(A||[]);return i(E,"_invoke",{value:X(_,j,I)}),E}r.wrap=p;function v(_,y,j){try{return{type:"normal",arg:_.call(y,j)}}catch(A){return{type:"throw",arg:A}}}var x="suspendedStart",b="suspendedYield",P="executing",g="completed",f={};function m(){}function w(){}function T(){}var S={};h(S,l,function(){return this});var C=Object.getPrototypeOf,O=C&&C(C(D([])));O&&O!==n&&s.call(O,l)&&(S=O);var F=T.prototype=m.prototype=Object.create(S);w.prototype=T,i(F,"constructor",{value:T,configurable:!0}),i(T,"constructor",{value:w,configurable:!0}),w.displayName=h(T,d,"GeneratorFunction");function R(_){["next","throw","return"].forEach(function(y){h(_,y,function(j){return this._invoke(y,j)})})}r.isGeneratorFunction=function(_){var y=typeof _=="function"&&_.constructor;return y?y===w||(y.displayName||y.name)==="GeneratorFunction":!1},r.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,T):(_.__proto__=T,h(_,d,"GeneratorFunction")),_.prototype=Object.create(F),_},r.awrap=function(_){return{__await:_}};function W(_,y){function j(E,I,U,z){var G=v(_[E],_,I);if(G.type==="throw")z(G.arg);else{var ae=G.arg,de=ae.value;return de&&typeof de=="object"&&s.call(de,"__await")?y.resolve(de.__await).then(function(Jt){j("next",Jt,U,z)},function(Jt){j("throw",Jt,U,z)}):y.resolve(de).then(function(Jt){ae.value=Jt,U(ae)},function(Jt){return j("throw",Jt,U,z)})}}var A;function k(E,I){function U(){return new y(function(z,G){j(E,I,z,G)})}return A=A?A.then(U,U):U()}i(this,"_invoke",{value:k})}R(W.prototype),h(W.prototype,c,function(){return this}),r.AsyncIterator=W,r.async=function(_,y,j,A,k){k===void 0&&(k=Promise);var E=new W(p(_,y,j,A),k);return r.isGeneratorFunction(y)?E:E.next().then(function(I){return I.done?I.value:E.next()})};function X(_,y,j){var A=x;return function(E,I){if(A===P)throw new Error("Generator is already running");if(A===g){if(E==="throw")throw I;return N()}for(j.method=E,j.arg=I;;){var U=j.delegate;if(U){var z=ce(U,j);if(z){if(z===f)continue;return z}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(A===x)throw A=g,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);A=P;var G=v(_,y,j);if(G.type==="normal"){if(A=j.done?g:b,G.arg===f)continue;return{value:G.arg,done:j.done}}else G.type==="throw"&&(A=g,j.method="throw",j.arg=G.arg)}}}function ce(_,y){var j=y.method,A=_.iterator[j];if(A===o)return y.delegate=null,j==="throw"&&_.iterator.return&&(y.method="return",y.arg=o,ce(_,y),y.method==="throw")||j!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+j+"' method")),f;var k=v(A,_.iterator,y.arg);if(k.type==="throw")return y.method="throw",y.arg=k.arg,y.delegate=null,f;var E=k.arg;if(!E)return y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f;if(E.done)y[_.resultName]=E.value,y.next=_.nextLoc,y.method!=="return"&&(y.method="next",y.arg=o);else return E;return y.delegate=null,f}R(F),h(F,d,"Generator"),h(F,l,function(){return this}),h(F,"toString",function(){return"[object Generator]"});function ke(_){var y={tryLoc:_[0]};1 in _&&(y.catchLoc=_[1]),2 in _&&(y.finallyLoc=_[2],y.afterLoc=_[3]),this.tryEntries.push(y)}function H(_){var y=_.completion||{};y.type="normal",delete y.arg,_.completion=y}function ge(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(ke,this),this.reset(!0)}r.keys=function(_){var y=Object(_),j=[];for(var A in y)j.push(A);return j.reverse(),function k(){for(;j.length;){var E=j.pop();if(E in y)return k.value=E,k.done=!1,k}return k.done=!0,k}};function D(_){if(_){var y=_[l];if(y)return y.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var j=-1,A=function k(){for(;++j<_.length;)if(s.call(_,j))return k.value=_[j],k.done=!1,k;return k.value=o,k.done=!0,k};return A.next=A}}return{next:N}}r.values=D;function N(){return{value:o,done:!0}}return ge.prototype={constructor:ge,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(H),!_)for(var y in this)y.charAt(0)==="t"&&s.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=o)},stop:function(){this.done=!0;var _=this.tryEntries[0],y=_.completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var y=this;function j(z,G){return E.type="throw",E.arg=_,y.next=z,G&&(y.method="next",y.arg=o),!!G}for(var A=this.tryEntries.length-1;A>=0;--A){var k=this.tryEntries[A],E=k.completion;if(k.tryLoc==="root")return j("end");if(k.tryLoc<=this.prev){var I=s.call(k,"catchLoc"),U=s.call(k,"finallyLoc");if(I&&U){if(this.prev<k.catchLoc)return j(k.catchLoc,!0);if(this.prev<k.finallyLoc)return j(k.finallyLoc)}else if(I){if(this.prev<k.catchLoc)return j(k.catchLoc,!0)}else if(U){if(this.prev<k.finallyLoc)return j(k.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(_,y){for(var j=this.tryEntries.length-1;j>=0;--j){var A=this.tryEntries[j];if(A.tryLoc<=this.prev&&s.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var k=A;break}}k&&(_==="break"||_==="continue")&&k.tryLoc<=y&&y<=k.finallyLoc&&(k=null);var E=k?k.completion:{};return E.type=_,E.arg=y,k?(this.method="next",this.next=k.finallyLoc,f):this.complete(E)},complete:function(_,y){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&y&&(this.next=y),f},finish:function(_){for(var y=this.tryEntries.length-1;y>=0;--y){var j=this.tryEntries[y];if(j.finallyLoc===_)return this.complete(j.completion,j.afterLoc),H(j),f}},catch:function(_){for(var y=this.tryEntries.length-1;y>=0;--y){var j=this.tryEntries[y];if(j.tryLoc===_){var A=j.completion;if(A.type==="throw"){var k=A.arg;H(j)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(_,y,j){return this.delegate={iterator:D(_),resultName:y,nextLoc:j},this.method==="next"&&(this.arg=o),f}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(g0);var El=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const v0=El;let ic=0;var Jh=({id:t,action:e,payload:r={}})=>{let n=t;return typeof n>"u"&&(n=v0("Job",ic),ic+=1),{id:n,action:e,payload:r}},nn={};let Nl=!1;nn.logging=Nl;nn.setLogging=t=>{Nl=t};nn.log=(...t)=>Nl?console.log.apply(void 0,t):null;const y0=Jh,{log:Ts}=nn,w0=El;let oc=0;var x0=()=>{const t=w0("Scheduler",oc),e={},r={};let n=[];oc+=1;const s=()=>n.length,i=()=>Object.keys(e).length,o=()=>{if(n.length!==0){const h=Object.keys(e);for(let p=0;p<h.length;p+=1)if(typeof r[h[p]]>"u"){n[0](e[h[p]]);break}}},a=(h,p)=>new Promise((v,x)=>{const b=y0({action:h,payload:p});n.push(async P=>{n.shift(),r[P.id]=b;try{v(await P[h].apply(void 0,[...p,b.id]))}catch(g){x(g)}finally{delete r[P.id],o()}}),Ts(`[${t}]: Add ${b.id} to JobQueue`),Ts(`[${t}]: JobQueue length=${n.length}`),o()});return{addWorker:h=>(e[h.id]=h,Ts(`[${t}]: Add ${h.id}`),Ts(`[${t}]: Number of workers=${i()}`),o(),h.id),addJob:async(h,...p)=>{if(i()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return a(h,p)},terminate:async()=>{Object.keys(e).forEach(async h=>{await e[h].terminate()}),n=[]},getQueueLen:s,getNumWorkers:i}};function _0(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var b0=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof _0=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const k0=b0("type")==="browser",S0=k0?t=>new URL(t,window.location.href).href:t=>t;var j0=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(r=>{t[r]&&(e[r]=S0(e[r]))}),e},Yh={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const E0="tesseract.js",N0="6.0.1",T0="Pure Javascript Multilingual OCR",C0="src/index.js",P0="commonjs",O0="src/index.d.ts",L0="dist/tesseract.min.js",A0="dist/tesseract.min.js",R0={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},I0={"./src/worker/node/index.js":"./src/worker/browser/index.js"},$0="",M0=["jeromewu"],U0="Apache-2.0",D0={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},z0={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},F0={"@rollup/pluginutils":"^5.0.2"},B0={type:"git",url:"https://github.com/naptha/tesseract.js.git"},W0={url:"https://github.com/naptha/tesseract.js/issues"},H0="https://github.com/naptha/tesseract.js",V0={type:"opencollective",url:"https://opencollective.com/tesseractjs"},q0={name:E0,version:N0,description:T0,main:C0,type:P0,types:O0,unpkg:L0,jsdelivr:A0,scripts:R0,browser:I0,author:$0,contributors:M0,license:U0,devDependencies:D0,dependencies:z0,overrides:F0,repository:B0,bugs:W0,homepage:H0,collective:V0};var G0={workerBlobURL:!0,logger:()=>{}};const K0=q0.version,Q0=G0;var J0={...Q0,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${K0}/dist/worker.min.js`},Y0=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const n=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(t);return r},X0=t=>{t.terminate()},Z0=(t,e)=>{t.onmessage=({data:r})=>{e(r)}},ey=async(t,e)=>{t.postMessage(e)};const yo=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:s}}})=>{r(Error(`File could not be read! Code=${s}`))},n.readAsArrayBuffer(t)}),Sa=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(r=>r.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await Sa(t.src)),t.tagName==="VIDEO"&&(e=await Sa(t.poster)),t.tagName==="CANVAS"&&await new Promise(r=>{t.toBlob(async n=>{e=await yo(n),r()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const r=await t.convertToBlob();e=await yo(r)}else(t instanceof File||t instanceof Blob)&&(e=await yo(t));return new Uint8Array(e)};var ty=Sa;const ry=J0,ny=Y0,sy=X0,iy=Z0,oy=ey,ay=ty;var ly={defaultOptions:ry,spawnWorker:ny,terminateWorker:sy,onMessage:iy,send:oy,loadImage:ay};const uy=j0,lt=Jh,{log:ac}=nn,cy=El,Zt=Yh,{defaultOptions:dy,spawnWorker:hy,terminateWorker:fy,onMessage:py,loadImage:lc,send:my}=ly;let uc=0;var Xh=async(t="eng",e=Zt.LSTM_ONLY,r={},n={})=>{const s=cy("Worker",uc),{logger:i,errorHandler:o,...a}=uy({...dy,...r}),l={},c=typeof t=="string"?t.split("+"):t;let d=e,h=n;const p=[Zt.DEFAULT,Zt.LSTM_ONLY].includes(e)&&!a.legacyCore;let v,x;const b=new Promise((D,N)=>{x=D,v=N}),P=D=>{v(D.message)};let g=hy(a);g.onerror=P,uc+=1;const f=({id:D,action:N,payload:_})=>new Promise((y,j)=>{ac(`[${s}]: Start ${D}, action=${N}`);const A=`${N}-${D}`;l[A]={resolve:y,reject:j},my(g,{workerId:s,jobId:D,action:N,payload:_})}),m=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),w=D=>f(lt({id:D,action:"load",payload:{options:{lstmOnly:p,corePath:a.corePath,logging:a.logging}}})),T=(D,N,_)=>f(lt({id:_,action:"FS",payload:{method:"writeFile",args:[D,N]}})),S=(D,N)=>f(lt({id:N,action:"FS",payload:{method:"readFile",args:[D,{encoding:"utf8"}]}})),C=(D,N)=>f(lt({id:N,action:"FS",payload:{method:"unlink",args:[D]}})),O=(D,N,_)=>f(lt({id:_,action:"FS",payload:{method:D,args:N}})),F=(D,N)=>f(lt({id:N,action:"loadLanguage",payload:{langs:D,options:{langPath:a.langPath,dataPath:a.dataPath,cachePath:a.cachePath,cacheMethod:a.cacheMethod,gzip:a.gzip,lstmOnly:[Zt.DEFAULT,Zt.LSTM_ONLY].includes(d)&&!a.legacyLang}}})),R=(D,N,_,y)=>f(lt({id:y,action:"initialize",payload:{langs:D,oem:N,config:_}})),W=(D="eng",N,_,y)=>{if(p&&[Zt.TESSERACT_ONLY,Zt.TESSERACT_LSTM_COMBINED].includes(N))throw Error("Legacy model requested but code missing.");const j=N||d;d=j;const A=_||h;h=A;const E=(typeof D=="string"?D.split("+"):D).filter(I=>!c.includes(I));return c.push(...E),E.length>0?F(E,y).then(()=>R(D,j,A,y)):R(D,j,A,y)},X=(D={},N)=>f(lt({id:N,action:"setParameters",payload:{params:D}})),ce=async(D,N={},_={text:!0},y)=>f(lt({id:y,action:"recognize",payload:{image:await lc(D),options:N,output:_}})),ke=async(D,N)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return f(lt({id:N,action:"detect",payload:{image:await lc(D)}}))},H=async()=>(g!==null&&(fy(g),g=null),Promise.resolve());py(g,({workerId:D,jobId:N,status:_,action:y,data:j})=>{const A=`${y}-${N}`;if(_==="resolve")ac(`[${D}]: Complete ${N}`),l[A].resolve({jobId:N,data:j}),delete l[A];else if(_==="reject")if(l[A].reject(j),delete l[A],y==="load"&&v(j),o)o(j);else throw Error(j);else _==="progress"&&i({...j,userJobId:N})});const ge={id:s,worker:g,load:m,writeText:T,readText:S,removeFile:C,FS:O,reinitialize:W,setParameters:X,recognize:ce,detect:ke,terminate:H};return w().then(()=>F(t)).then(()=>R(t,e,n)).then(()=>x(ge)).catch(()=>{}),b};const Zh=Xh,gy=async(t,e,r)=>{const n=await Zh(e,1,r);return n.recognize(t).finally(async()=>{await n.terminate()})},vy=async(t,e)=>{const r=await Zh("osd",0,e);return r.detect(t).finally(async()=>{await r.terminate()})};var yy={recognize:gy,detect:vy},wy={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},xy={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const _y=x0,by=Xh,ky=yy,Sy=wy,jy=Yh,Ey=xy,{setLogging:Ny}=nn;var Ty={languages:Sy,OEM:jy,PSM:Ey,createScheduler:_y,createWorker:by,setLogging:Ny,...ky};const Cy=({isOpen:t,onClose:e,title:r,type:n,onSubmit:s,userEmail:i})=>{const[o,a]=M.useState(!1),[l,c]=M.useState(""),[d,h]=M.useState(""),[p,v]=M.useState("file"),[x,b]=M.useState(""),[P,g]=M.useState(""),[f,m]=M.useState(!1),[w,T]=M.useState(""),[S,C]=M.useState(null),[O,F]=M.useState(!1),R=M.useRef(null);if(!t)return null;const W=10*1024*1024,X=["application/pdf","text/plain","image/jpeg","image/jpg","image/png","image/gif","image/bmp","image/webp"],ce=E=>{E.preventDefault(),a(!0)},ke=E=>{E.preventDefault(),a(!1)},H=E=>{E.preventDefault(),a(!1),g("");const I=E.dataTransfer.files;I.length>0&&N(I)},ge=E=>{g("");const I=E.target.files;I&&I.length>0&&N(I)},D=async E=>new Promise((I,U)=>{if(E.type==="text/plain"){const z=new FileReader;z.onload=G=>{var de;const ae=(de=G.target)==null?void 0:de.result;I(ae)},z.onerror=()=>U(new Error("Failed to read text file")),z.readAsText(E)}else E.type==="application/pdf"?setTimeout(()=>{I(`[PDF Content Extracted from: ${E.name}]

This is simulated text extraction from a PDF file. In a real implementation, this would contain the actual text content extracted from the PDF using libraries like PDF.js or pdf-parse.

The extracted content would include all readable text from the document, maintaining structure and formatting where possible.`)},2e3):E.type.startsWith("image/")?(async()=>{try{const G=await Ty.createWorker("eng"),{data:{text:ae}}=await G.recognize(E);if(await G.terminate(),!ae||ae.trim().length===0)throw new Error("No text could be extracted from the image. Please ensure the image is clear and contains readable text.");const de=ae.replace(/\n\s*\n/g,`
`).replace(/[^\w\s\-.,;:()\[\]]/g,"").trim();I(de)}catch(G){U(new Error(`OCR processing failed: ${G.message}`))}})():U(new Error("Unsupported file type for text extraction"))}),N=async E=>{const I=E[0];if(!X.includes(I.type)){g("Supported file types: PDF, TXT, JPG, PNG, GIF, BMP, WebP");return}if(I.size>W){g("File size must be less than 10MB");return}g(""),C(I),m(!0);try{const U=await D(I);T(U),console.log("File processed successfully:",I.name),console.log("Extracted text:",U)}catch(U){g(`Failed to process file: ${U.message}`),C(null)}finally{m(!1)}},_=async()=>{if(!w){console.error("Missing extracted text");return}F(!0);try{s&&s(w),T(""),C(null),e()}catch(E){console.error("Error saving extracted text:",E),g("Failed to save extracted text. Please try again.")}finally{F(!1)}},y=()=>{if(!x.trim()){g("Please enter a valid URL");return}try{new URL(x.trim());const E=`Please analyze the prescription at this URL: ${x.trim()}`;s&&s(E),g(""),b(""),e()}catch{g("Please enter a valid URL")}},j=E=>{E.preventDefault(),n==="medicine-search"&&l.trim()?(console.log("Medicine search query:",l),c(""),e()):n==="question"&&d.trim()&&s&&(s(d),h(""))},A=()=>{T(""),C(null),g(""),m(!1)},k=()=>{switch(n){case"upload":return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"upload-tabs grid grid-cols-2 bg-[rgba(255,255,255,0.05)] rounded-xl p-1 mb-6 relative",children:[u.jsxs("div",{className:`upload-tab p-3 text-center rounded-lg cursor-pointer transition-all duration-300 font-medium text-sm uppercase relative z-[2] ${p==="file"?"bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white shadow-[0_4px_12px_rgba(0,212,170,0.3)]":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[rgba(255,255,255,0.08)]"}`,onClick:()=>{v("file"),A(),b("")},children:[u.jsx(Tn,{className:"w-4 h-4 mx-auto mb-1"}),"Upload File"]}),u.jsxs("div",{className:`upload-tab p-3 text-center rounded-lg cursor-pointer transition-all duration-300 font-medium text-sm uppercase relative z-[2] ${p==="url"?"bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white shadow-[0_4px_12px_rgba(0,212,170,0.3)]":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[rgba(255,255,255,0.08)]"}`,onClick:()=>{v("url"),A()},children:[u.jsx(zu,{className:"w-4 h-4 mx-auto mb-1"}),"From URL"]})]}),P&&u.jsx("div",{className:"error-message bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.3)] rounded-xl p-3 text-[#ef4444] text-sm mb-4 text-center",children:P}),f&&u.jsxs("div",{className:"processing-message bg-[rgba(0,212,170,0.1)] border border-[rgba(0,212,170,0.3)] rounded-xl p-4 text-[var(--primary-cyan)] text-sm mb-4 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-[var(--primary-cyan)] border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Processing file..."})]}),u.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[(S==null?void 0:S.type)==="application/pdf"&&"Extracting text from PDF...",(S==null?void 0:S.type)==="text/plain"&&"Reading text file...",(S==null?void 0:S.type.startsWith("image/"))&&"Performing OCR on image..."]})]}),w&&!f&&u.jsxs("div",{className:"extracted-text-preview bg-[rgba(0,212,170,0.1)] border border-[rgba(0,212,170,0.3)] rounded-xl p-4 mb-4",children:[u.jsxs("h4",{className:"text-[var(--text-primary)] font-semibold mb-2 flex items-center gap-2",children:[u.jsx(Tn,{className:"w-4 h-4 text-[var(--primary-cyan)]"}),"Extracted Text Preview"]}),u.jsxs("div",{className:"max-h-32 overflow-y-auto bg-[rgba(255,255,255,0.05)] rounded-lg p-3 text-sm text-[var(--text-secondary)] leading-relaxed",children:[w.substring(0,300),w.length>300&&"..."]}),u.jsxs("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:[w.length," characters extracted from ",S==null?void 0:S.name]})]}),p==="file"&&u.jsxs(u.Fragment,{children:[!w&&!f&&u.jsxs("div",{className:`file-upload-area border-2 border-dashed rounded-xl p-10 text-center mb-5 transition-all duration-300 cursor-pointer ${o?"border-[var(--primary-cyan)] bg-[rgba(0,212,170,0.1)]":"border-[var(--glass-border)] hover:border-[var(--primary-cyan)] hover:bg-[rgba(0,212,170,0.05)]"}`,onDragOver:ce,onDragLeave:ke,onDrop:H,onClick:()=>{var E;return(E=R.current)==null?void 0:E.click()},children:[u.jsx("input",{ref:R,type:"file",accept:".pdf,.txt,.jpg,.jpeg,.png,.gif,.bmp,.webp,application/pdf,text/plain,image/*",onChange:ge,className:"hidden"}),u.jsx(Pi,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-4"}),u.jsx("h3",{className:"text-[var(--text-primary)] text-lg font-semibold mb-2",children:"Drop files here or click to browse"}),u.jsx("p",{className:"text-[var(--text-secondary)] text-sm mb-2",children:"Supported formats: PDF, TXT, JPG, PNG, GIF, BMP, WebP"}),u.jsxs("div",{className:"text-xs text-[var(--text-muted)] space-y-1",children:[u.jsx("p",{children:" PDF files: Text extraction"}),u.jsx("p",{children:" Text files: Direct content reading"}),u.jsx("p",{children:" Images: OCR text recognition"}),u.jsx("p",{className:"mt-2",children:"Maximum file size: 10MB"})]})]}),w&&!f&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:_,disabled:O,className:"feature-button flex-1 p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:O?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Tn,{className:"w-4 h-4"}),"Analyze Extracted Text"]})}),u.jsx("button",{onClick:A,disabled:O,className:"p-[12px_24px] bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-[10px] text-[var(--text-secondary)] cursor-pointer transition-all duration-200 hover:bg-[rgba(255,255,255,0.15)] hover:text-[var(--text-primary)] disabled:opacity-50 disabled:cursor-not-allowed",children:"Upload Different File"})]}),!w&&!f&&u.jsx("div",{className:"text-center",children:u.jsx("button",{type:"button",onClick:e,className:"p-[12px_24px] bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-[10px] text-[var(--text-secondary)] cursor-pointer transition-all duration-200 hover:bg-[rgba(255,255,255,0.15)] hover:text-[var(--text-primary)]",children:"Cancel"})})]}),p==="url"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"url-input-section mb-5",children:[u.jsx("label",{className:"block text-[var(--text-primary)] text-sm font-medium mb-3",children:"Enter URL to document or website"}),u.jsx("input",{type:"url",value:x,onChange:E=>b(E.target.value),placeholder:"https://example.com/document.pdf or any valid URL",className:"url-input w-full p-4 bg-[rgba(255,255,255,0.08)] border border-[var(--glass-border)] rounded-xl text-[var(--text-primary)] text-base focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)]"}),u.jsx("p",{className:"text-[var(--text-muted)] text-xs mt-2",children:"You can provide URLs to documents, websites, or any online content"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:y,disabled:!x.trim(),className:"feature-button flex-1 p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(zu,{className:"w-4 h-4 mr-2 inline"}),"Process URL"]}),u.jsx("button",{type:"button",onClick:e,className:"p-[12px_24px] bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-[10px] text-[var(--text-secondary)] cursor-pointer transition-all duration-200 hover:bg-[rgba(255,255,255,0.15)] hover:text-[var(--text-primary)]",children:"Cancel"})]})]})]});case"medicine-search":return u.jsxs("form",{onSubmit:j,children:[u.jsxs("div",{className:"mb-5",children:[u.jsx("input",{type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Enter medicine name (e.g., Paracetamol, Aspirin, Metformin)...",className:"medicine-search-input w-full p-4 bg-[rgba(255,255,255,0.08)] border border-[var(--glass-border)] rounded-xl text-[var(--text-primary)] text-base mb-5 focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)]",autoFocus:!0}),u.jsx("p",{className:"text-[var(--text-muted)] text-sm mb-5",children:"Get comprehensive information about medicines including usage instructions, dosage, side effects, contraindications, and drug interactions from trusted medical databases."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"submit",disabled:!l.trim(),className:"feature-button flex-1 p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(wl,{className:"w-4 h-4 mr-2 inline"}),"Search Medicine"]}),u.jsx("button",{type:"button",onClick:e,className:"p-[12px_24px] bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-[10px] text-[var(--text-secondary)] cursor-pointer transition-all duration-200 hover:bg-[rgba(255,255,255,0.15)] hover:text-[var(--text-primary)]",children:"Cancel"})]})]});case"question":return u.jsxs("form",{onSubmit:j,children:[u.jsx("div",{className:"mb-5",children:u.jsx("textarea",{value:d,onChange:E=>h(E.target.value),placeholder:"Ask about medications, side effects, dosage, or any health-related questions...",className:"question-textarea w-full min-h-[120px] p-4 bg-[rgba(255,255,255,0.08)] border border-[var(--glass-border)] rounded-xl text-[var(--text-primary)] text-base resize-y mb-5 focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)]",autoFocus:!0})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"submit",disabled:!d.trim(),className:"feature-button flex-1 p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Qn,{className:"w-4 h-4 mr-2 inline"}),"Ask Question"]}),u.jsx("button",{type:"button",onClick:e,className:"p-[12px_24px] bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-[10px] text-[var(--text-secondary)] cursor-pointer transition-all duration-200 hover:bg-[rgba(255,255,255,0.15)] hover:text-[var(--text-primary)]",children:"Cancel"})]})]});default:return null}};return u.jsx("div",{className:"modal fixed top-0 left-0 w-full h-full bg-[rgba(0,0,0,0.8)] backdrop-blur-[5px] z-[1000] flex justify-center items-center p-5",children:u.jsxs("div",{className:"modal-content bg-[var(--glass-bg)] backdrop-blur-[30px] border border-[var(--glass-border)] rounded-[20px] p-8 max-w-[500px] w-full relative",children:[u.jsxs("div",{className:"modal-header flex justify-between items-center mb-5",children:[u.jsx("h2",{className:"modal-title font-['Orbitron'] text-2xl font-semibold text-[var(--text-primary)]",children:r}),u.jsx("button",{onClick:e,className:"close-btn bg-none border-none text-[var(--text-muted)] text-2xl cursor-pointer p-1 hover:text-[var(--text-primary)]",children:u.jsx(rs,{className:"w-6 h-6"})})]}),k()]})})},kr=[{id:"prescription-upload",targetId:"prescription-upload-button",title:"Upload Your Prescription",description:"Start here by securely uploading your doctor's prescription for AI-powered analysis.",position:"top",arrowDirection:"down"},{id:"dashboard-reports",targetId:"answers-section",title:"Your Health Dashboard",description:"Your uploaded prescriptions and AI health reports will appear here for easy access.",position:"top",arrowDirection:"down"},{id:"ai-insights",targetId:"ai-consultation-button",title:"Ask Questions",description:"Get instant answers about medications, side effects, dosage, and health-related questions.",position:"top",arrowDirection:"down"},{id:"medicine-search",targetId:"medicine-search-button",title:"Search Medicine Information",description:"Search for detailed medicine information including usage, dosage, side effects, and interactions from trusted databases.",position:"top",arrowDirection:"down"},{id:"profile-settings",targetId:"user-profile-section",title:"Profile & Settings",description:"Manage your personal details, notifications, and privacy settings from your profile.",position:"left",arrowDirection:"right"}],Py=({isVisible:t,onComplete:e,onSkip:r})=>{const[n,s]=M.useState(0),[i,o]=M.useState({top:0,left:0}),[a,l]=M.useState(null),[c,d]=M.useState(!1),h=M.useRef(null);M.useEffect(()=>{if(t){const S=setTimeout(()=>d(!0),300);return()=>clearTimeout(S)}else d(!1)},[t]),M.useEffect(()=>{if(t&&c)return p(),window.addEventListener("resize",p),window.addEventListener("scroll",p),()=>{window.removeEventListener("resize",p),window.removeEventListener("scroll",p)}},[t,c,n]);const p=()=>{const S=kr[n],C=document.getElementById(S.targetId);if(C){const O=C.getBoundingClientRect(),F=window.pageYOffset||document.documentElement.scrollTop,R=window.pageXOffset||document.documentElement.scrollLeft;l(O);let W=0,X=0;switch(S.position){case"top":W=O.top+F-200,X=O.left+R+O.width/2-200;break;case"bottom":W=O.bottom+F+50,X=O.left+R+O.width/2-200;break;case"left":W=O.top+F+O.height/2-100,X=O.left+R-450;break;case"right":W=O.top+F+O.height/2-100,X=O.right+R+50;break}const ce=window.innerWidth-400-20,ke=window.innerHeight+F-250;o({top:Math.max(20,Math.min(W,ke)),left:Math.max(20,Math.min(X,ce))})}},v=()=>{n<kr.length-1?s(n+1):b()},x=()=>{n>0&&s(n-1)},b=()=>{d(!1),setTimeout(()=>{e()},300)},P=()=>{d(!1),setTimeout(()=>{r()},300)},g=()=>{if(!a)return{};const S=kr[n];switch(window.pageYOffset||document.documentElement.scrollTop,window.pageXOffset||document.documentElement.scrollLeft,S.arrowDirection){case"down":return{top:i.top+180,left:i.left+200-16};case"up":return{top:i.top-40,left:i.left+200-16};case"right":return{top:i.top+100-16,left:i.left+400};case"left":return{top:i.top+100-16,left:i.left-40};default:return{}}},f=()=>{if(!a)return{};const S=20;return{top:a.top-S,left:a.left-S,width:a.width+S*2,height:a.height+S*2}};if(!t)return null;const m=kr[n],w=g(),T=f();return u.jsxs("div",{ref:h,className:`tutorial-overlay fixed inset-0 z-[300] transition-all duration-500 ${c?"opacity-100":"opacity-0 pointer-events-none"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 transition-opacity duration-500",children:a&&u.jsx("div",{className:"absolute bg-transparent border-4 border-[var(--primary-cyan)] rounded-xl shadow-[0_0_30px_rgba(0,212,170,0.6)] transition-all duration-500",style:T})}),u.jsxs("div",{className:`tutorial-popup absolute bg-gradient-to-br from-[var(--primary-cyan)] via-[var(--accent-teal)] to-[var(--primary-purple)] p-6 rounded-2xl shadow-[0_25px_50px_rgba(0,212,170,0.4)] backdrop-blur-[20px] border border-[rgba(255,255,255,0.2)] max-w-[400px] w-[calc(100vw-40px)] transition-all duration-500 ${c?"scale-100 opacity-100":"scale-95 opacity-0"}`,style:{top:`${i.top}px`,left:`${i.left}px`},children:[u.jsx("button",{onClick:P,className:"absolute -top-3 -right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition-all duration-200 shadow-lg hover:shadow-xl",children:u.jsx(rs,{className:"w-4 h-4"})}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"flex space-x-2",children:kr.map((S,C)=>u.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${C===n?"bg-white scale-125":C<n?"bg-white bg-opacity-70":"bg-white bg-opacity-30"}`},C))})}),u.jsxs("div",{className:"text-white mb-6",children:[u.jsx("h3",{className:"text-xl font-bold mb-3 font-['Orbitron']",children:m.title}),u.jsx("p",{className:"text-sm leading-relaxed opacity-95",children:m.description})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{onClick:x,disabled:n===0,className:"flex items-center gap-2 px-4 py-2 bg-white bg-opacity-20 rounded-lg text-white text-sm font-medium transition-all duration-200 hover:bg-opacity-30 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Rm,{className:"w-4 h-4"}),"Back"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:P,className:"px-4 py-2 bg-white bg-opacity-20 rounded-lg text-white text-sm font-medium transition-all duration-200 hover:bg-opacity-30",children:"Skip Tutorial"}),u.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg text-[var(--primary-cyan)] text-sm font-bold transition-all duration-200 hover:bg-opacity-90 hover:shadow-lg",children:[n===kr.length-1?"Finish":"Next",u.jsx(Im,{className:"w-4 h-4"})]})]})]})]}),a&&u.jsx("div",{className:"tutorial-arrow absolute pointer-events-none transition-all duration-500",style:w,children:u.jsxs("div",{className:"relative",children:[m.arrowDirection==="down"&&u.jsx("div",{className:"w-8 h-8 text-[var(--primary-cyan)] animate-bounce",children:u.jsx("svg",{className:"w-full h-full filter drop-shadow-[0_0_15px_rgba(0,212,170,0.8)]",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2l-8 8h5v10h6V10h5l-8-8z",transform:"rotate(180 12 12)"})})}),m.arrowDirection==="up"&&u.jsx("div",{className:"w-8 h-8 text-[var(--primary-cyan)] animate-bounce",children:u.jsx("svg",{className:"w-full h-full filter drop-shadow-[0_0_15px_rgba(0,212,170,0.8)]",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2l-8 8h5v10h6V10h5l-8-8z"})})}),m.arrowDirection==="right"&&u.jsx("div",{className:"w-8 h-8 text-[var(--primary-cyan)] animate-bounce",children:u.jsx("svg",{className:"w-full h-full filter drop-shadow-[0_0_15px_rgba(0,212,170,0.8)]",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2l-8 8h5v10h6V10h5l-8-8z",transform:"rotate(-90 12 12)"})})}),m.arrowDirection==="left"&&u.jsx("div",{className:"w-8 h-8 text-[var(--primary-cyan)] animate-bounce",children:u.jsx("svg",{className:"w-full h-full filter drop-shadow-[0_0_15px_rgba(0,212,170,0.8)]",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2l-8 8h5v10h6V10h5l-8-8z",transform:"rotate(90 12 12)"})})})]})})]})},Oy=({isOpen:t,onClose:e,onSkip:r,userName:n})=>t?u.jsx("div",{className:"welcome-modal-overlay fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[200] flex items-center justify-center p-4 animate-fadeIn",children:u.jsx("div",{className:"welcome-modal-content bg-gradient-to-br from-[var(--primary-cyan)] via-[var(--accent-teal)] to-[var(--primary-purple)] p-[2px] rounded-3xl shadow-[0_25px_50px_rgba(0,212,170,0.4)] animate-slideInScale max-w-[500px] w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"inner-content bg-[var(--glass-bg)] backdrop-blur-[30px] rounded-3xl p-8 relative border border-[rgba(255,255,255,0.1)]",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-8 h-8 bg-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.2)] rounded-full flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-all duration-200",children:u.jsx(rs,{className:"w-4 h-4"})}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"mb-6",children:u.jsx(Ci,{size:80})}),u.jsx("h1",{className:"welcome-title font-['Orbitron'] text-3xl font-bold text-[var(--text-primary)] mb-2",children:"Welcome to MediLens"}),u.jsxs("p",{className:"welcome-subtitle text-[var(--text-secondary)] text-lg",children:["Hello ",n,"! Let's get you started."]})]}),u.jsxs("div",{className:"features-section mb-8",children:[u.jsx("h3",{className:"features-title font-['Orbitron'] text-xl font-semibold text-[var(--text-primary)] mb-6 text-center",children:"Key Features"}),u.jsxs("div",{className:"features-list space-y-4",children:[u.jsxs("div",{className:"feature-item flex items-center gap-4 p-3 bg-[rgba(255,255,255,0.05)] rounded-xl border border-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.08)] transition-all duration-200",children:[u.jsx("div",{className:"feature-icon w-10 h-10 bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--accent-teal)] rounded-lg flex items-center justify-center",children:u.jsx(Pi,{className:"w-5 h-5 text-white"})}),u.jsx("span",{className:"feature-text text-[var(--text-secondary)] font-medium",children:"Upload your doctor's prescription securely"})]}),u.jsxs("div",{className:"feature-item flex items-center gap-4 p-3 bg-[rgba(255,255,255,0.05)] rounded-xl border border-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.08)] transition-all duration-200",children:[u.jsx("div",{className:"feature-icon w-10 h-10 bg-gradient-to-r from-[var(--accent-teal)] to-[var(--primary-purple)] rounded-lg flex items-center justify-center",children:u.jsx(kh,{className:"w-5 h-5 text-white"})}),u.jsx("span",{className:"feature-text text-[var(--text-secondary)] font-medium",children:"View AI-powered health insights"})]})]})]}),u.jsx("div",{className:"divider w-full h-[1px] bg-gradient-to-r from-transparent via-[var(--glass-border)] to-transparent mb-6"}),u.jsx("div",{className:"disclaimer-section mb-8",children:u.jsx("div",{className:"disclaimer-content bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.2)] rounded-xl p-4",children:u.jsxs("p",{className:"disclaimer-text text-[var(--text-secondary)] text-sm leading-relaxed",children:[u.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:"Disclaimer:"})," MediLens is for informational purposes only and does not provide medical advice. Always consult a qualified healthcare professional for medical concerns."]})})}),u.jsxs("div",{className:"action-buttons flex gap-4 justify-center",children:[u.jsx("button",{onClick:r,className:"skip-button px-6 py-3 bg-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.15)] border border-[var(--glass-border)] rounded-xl text-[var(--text-secondary)] hover:text-[var(--text-primary)] font-medium transition-all duration-200 hover:border-[var(--primary-cyan)] hover:shadow-[0_4px_12px_rgba(0,212,170,0.2)]",children:"Skip"}),u.jsxs("button",{onClick:e,className:"got-it-button px-8 py-3 bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white font-bold rounded-xl transition-all duration-200 hover:transform hover:-translate-y-1 hover:shadow-[0_8px_25px_rgba(0,212,170,0.4)] flex items-center gap-2",children:[u.jsx(Am,{className:"w-4 h-4"}),"Got it"]})]})]})})}):null,Ly=({user:t,onLogout:e,onNavigateToChatbot:r,onNavigateToChatbotWithText:n})=>{const[s,i]=M.useState([]),[o,a]=M.useState(null),[l,c]=M.useState(!1),[d,h]=M.useState("upload"),[p,v]=M.useState(""),[x,b]=M.useState(!0),[P,g]=M.useState(!0),[f,m]=M.useState(!1);wo.useEffect(()=>{(async()=>{try{const W=await ka();if(W.length>0){const X=W[0];a(X);const ke=(await Qh(X.id)).slice(-4);i(ke)}}catch(W){console.error("Error loading recent messages:",W)}})()},[]);const w=R=>{R==="upload"?(h("upload"),v("Upload Your Doctor's Prescription"),c(!0)):R==="medicine-search"?r("medicine-search"):R==="question"&&r("question")},T=R=>{n&&n("upload",R),c(!1)},S=()=>{b(!1),localStorage.setItem("medilens-tutorial-completed","true")},C=()=>{b(!1),localStorage.setItem("medilens-tutorial-completed","true")},O=()=>{g(!1)},F=()=>{g(!1),m(!0),sessionStorage.setItem("medilens-welcome-skipped","true")};return wo.useEffect(()=>{const R=localStorage.getItem("medilens-tutorial-completed"),W=sessionStorage.getItem("medilens-welcome-skipped");R==="true"&&b(!1),W==="true"&&(g(!1),m(!0))},[]),u.jsxs("div",{className:"home-page",children:[u.jsxs("div",{className:"header bg-[var(--glass-bg)] backdrop-blur-[30px] border-b border-[var(--glass-border)] p-[20px_40px] flex justify-between items-center sticky top-0 z-[100]",children:[u.jsxs("div",{className:"header-left flex items-center gap-4",children:[u.jsx(Ci,{size:50}),u.jsx("h1",{className:"header-title font-['Orbitron'] text-[var(--text-primary)] text-2xl font-semibold",children:"MediLens"})]}),u.jsxs("div",{id:"user-profile-section",className:"header-right flex items-center gap-4",children:[u.jsxs("div",{className:"user-info text-[var(--text-secondary)] text-sm",children:["Welcome, ",t.name]}),u.jsx(xl,{}),u.jsx("button",{onClick:e,className:"logout-btn p-[8px_16px] bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-lg text-[var(--text-secondary)] cursor-pointer transition-all duration-200 hover:bg-[rgba(255,255,255,0.15)] hover:text-[var(--text-primary)]",children:u.jsx(Mm,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"main-content p-10 max-w-[1200px] mx-auto",children:[u.jsxs("div",{className:"welcome-section text-center mb-[50px]",children:[u.jsx("h1",{className:"welcome-title font-['Orbitron'] text-[2.5rem] font-semibold text-[var(--text-primary)] mb-3",children:"Healthcare AI Dashboard"}),u.jsx("p",{className:"welcome-subtitle text-[var(--text-secondary)] text-lg max-w-[600px] mx-auto",children:"Leverage advanced AI technology to enhance patient care and medical decision-making"})]}),u.jsxs("div",{className:"features-grid grid grid-cols-[repeat(auto-fit,minmax(300px,1fr))] gap-8 mb-[50px]",children:[u.jsxs("div",{id:"prescription-upload-button",className:"feature-card bg-[var(--glass-bg)] backdrop-blur-[20px] border border-[var(--glass-border)] rounded-[20px] p-8 text-center transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] cursor-pointer relative overflow-hidden hover:transform hover:-translate-y-2 hover:border-[var(--primary-cyan)] hover:shadow-[0_25px_50px_rgba(0,212,170,0.2)] before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:bg-gradient-to-r before:from-transparent before:via-[rgba(0,212,170,0.1)] before:to-transparent before:transition-[left_0.6s_ease] hover:before:left-full",onClick:()=>w("upload"),children:[u.jsx("div",{className:"feature-icon w-[60px] h-[60px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] rounded-2xl flex items-center justify-center mx-auto mb-5 text-[28px]",children:u.jsx(Pi,{className:"w-7 h-7 text-white"})}),u.jsx("h3",{className:"feature-title font-['Orbitron'] text-xl font-semibold text-[var(--text-primary)] mb-3",children:"Upload Your Doctor's Prescription"}),u.jsx("p",{className:"feature-description text-[var(--text-secondary)] leading-[1.6] mb-5",children:"Securely upload your doctor's prescription and get AI-powered insights and analysis"}),u.jsx("button",{className:"feature-button p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)]",children:"Start Analysis"})]}),u.jsxs("div",{id:"medicine-search-button",className:"feature-card bg-[var(--glass-bg)] backdrop-blur-[20px] border border-[var(--glass-border)] rounded-[20px] p-8 text-center transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] cursor-pointer relative overflow-hidden hover:transform hover:-translate-y-2 hover:border-[var(--primary-cyan)] hover:shadow-[0_25px_50px_rgba(0,212,170,0.2)] before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:bg-gradient-to-r before:from-transparent before:via-[rgba(0,212,170,0.1)] before:to-transparent before:transition-[left_0.6s_ease] hover:before:left-full",onClick:()=>w("medicine-search"),children:[u.jsx("div",{className:"feature-icon w-[60px] h-[60px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] rounded-2xl flex items-center justify-center mx-auto mb-5 text-[28px]",children:u.jsx(wl,{className:"w-7 h-7 text-white"})}),u.jsx("h3",{className:"feature-title font-['Orbitron'] text-xl font-semibold text-[var(--text-primary)] mb-3",children:"Search Medicine Information"}),u.jsx("p",{className:"feature-description text-[var(--text-secondary)] leading-[1.6] mb-5",children:"Search for detailed medicine information including usage, dosage, side effects, and interactions from trusted medical databases"}),u.jsx("button",{className:"feature-button p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)]",children:"Search Now"})]}),u.jsxs("div",{id:"ai-consultation-button",className:"feature-card bg-[var(--glass-bg)] backdrop-blur-[20px] border border-[var(--glass-border)] rounded-[20px] p-8 text-center transition-all duration-300 cubic-bezier-[0.4,0,0.2,1] cursor-pointer relative overflow-hidden hover:transform hover:-translate-y-2 hover:border-[var(--primary-cyan)] hover:shadow-[0_25px_50px_rgba(0,212,170,0.2)] before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:bg-gradient-to-r before:from-transparent before:via-[rgba(0,212,170,0.1)] before:to-transparent before:transition-[left_0.6s_ease] hover:before:left-full",onClick:()=>w("question"),children:[u.jsx("div",{className:"feature-icon w-[60px] h-[60px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] rounded-2xl flex items-center justify-center mx-auto mb-5 text-[28px]",children:u.jsx(Qn,{className:"w-7 h-7 text-white"})}),u.jsx("h3",{className:"feature-title font-['Orbitron'] text-xl font-semibold text-[var(--text-primary)] mb-3",children:"Ask Questions"}),u.jsx("p",{className:"feature-description text-[var(--text-secondary)] leading-[1.6] mb-5",children:"Get instant answers about medications and health"}),u.jsx("button",{className:"feature-button p-[12px_24px] bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white border-none rounded-[10px] font-semibold cursor-pointer transition-all duration-200 hover:transform hover:-translate-y-[2px] hover:shadow-[0_8px_20px_rgba(0,212,170,0.3)]",children:"Ask Now"})]})]}),u.jsxs("div",{id:"answers-section",className:"answers-section bg-[var(--glass-bg)] backdrop-blur-[20px] border border-[var(--glass-border)] rounded-[20px] p-8",children:[u.jsxs("div",{className:"answers-header text-center mb-8",children:[u.jsx("h2",{className:"answers-title font-['Orbitron'] text-[1.8rem] font-semibold text-[var(--text-primary)] mb-2",children:"Recent Questions & Answers"}),u.jsx("p",{className:"answers-subtitle text-[var(--text-secondary)]",children:o?`From your latest chat: ${o.title}`:"Your latest health and medication questions"})]}),u.jsx("div",{className:"answers-content max-h-[400px] overflow-y-auto py-5",children:s.length===0?u.jsxs("div",{className:"no-answers text-center text-[var(--text-muted)] italic p-10",children:[u.jsx(Qn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"mb-2",children:"No recent conversations yet"}),u.jsx("p",{className:"text-xs",children:"Start by uploading a prescription or asking a health question"})]}):u.jsxs("div",{className:"space-y-4",children:[s.map((R,W)=>u.jsxs("div",{className:`message-item rounded-xl p-4 ${R.type==="user"?"bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white ml-8":"bg-[rgba(255,255,255,0.05)] border-l-4 border-[var(--primary-cyan)] text-[var(--text-secondary)]"}`,children:[u.jsxs("div",{className:"message-header flex items-center gap-2 mb-2",children:[R.type==="user"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-bold",children:"You"})}),u.jsx("span",{className:"text-sm font-medium opacity-90",children:"Question"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] rounded-full flex items-center justify-center",children:u.jsx(kh,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:"text-sm font-medium text-[var(--text-primary)]",children:"MediLens AI"})]}),u.jsx("span",{className:"text-xs opacity-60 ml-auto",children:new Date(R.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("div",{className:`message-content leading-relaxed ${R.type==="user"?"text-white":"text-[var(--text-secondary)]"}`,children:R.content.length>200?`${R.content.substring(0,200)}...`:R.content})]},R.id)),o&&u.jsx("div",{className:"text-center mt-6",children:u.jsx("button",{onClick:()=>r(o.context),className:"view-full-chat-btn px-4 py-2 bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[rgba(255,255,255,0.15)] transition-all duration-200 text-sm",children:"View Full Conversation"})})]})})]})]}),u.jsx(Cy,{isOpen:l,onClose:()=>c(!1),title:p,type:d,onSubmit:T,userEmail:t.email}),!P&&u.jsx(Py,{isVisible:x,onComplete:S,onSkip:C}),u.jsx(Oy,{isOpen:P,onClose:O,onSkip:F,userName:t.name})]})},Ay=({user:t,onBack:e,initialContext:r,sessionId:n,initialExtractedText:s=""})=>{const[i,o]=M.useState([]),[a,l]=M.useState(""),[c,d]=M.useState(!1),[h,p]=M.useState(n||null),[v,x]=M.useState(s),[b,P]=M.useState([]),[g,f]=M.useState(!1),[m,w]=M.useState(""),T=M.useRef(null),S=M.useRef(null),C=()=>{var k;(k=T.current)==null||k.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{C()},[i]),M.useEffect(()=>{(async()=>{if(!await $i()){console.error("User not authenticated with Supabase");return}if(await O(),n){p(n),await R(n);const U=(await ka()).find(z=>z.id===n);U&&w(U.title)}else await F();setTimeout(()=>{var I;(I=S.current)==null||I.focus()},100)})()},[]);const O=async()=>{const k=await ka();P(k)},F=async()=>{const k=await f0({context:r,title:D()});if(k){p(k.id),w(k.title),await O();const E=H(),I=await Ns({session_id:k.id,type:"bot",content:E});I&&o([{id:I.id,type:"bot",content:I.content,timestamp:new Date(I.created_at)}])}else{const E=H();w(D()),o([{id:Date.now().toString(),type:"bot",content:E,timestamp:new Date}])}},R=async k=>{const I=(await Qh(k)).map(U=>({id:U.id,type:U.type,content:U.content,timestamp:new Date(U.created_at),attachmentType:U.attachment_type||void 0}));o(I)},W=async()=>{o([]),p(null),w(""),x(""),l(""),f(!1),await F()},X=async k=>{p(k.id),w(k.title),x(""),l(""),f(!1),await R(k.id)},ce=async(k,E)=>{E.stopPropagation(),await p0(k)?(P(U=>U.filter(z=>z.id!==k)),h===k&&await W()):console.error("Failed to delete chat session")},ke=k=>{const E=new Date(k),U=Math.abs(new Date().getTime()-E.getTime()),z=Math.ceil(U/(1e3*60*60*24));return z===1?"Today":z===2?"Yesterday":z<=7?`${z-1} days ago`:E.toLocaleDateString()},H=()=>{switch(r){case"upload":return"Hello! I'm your MediLens AI assistant. I can help you analyze prescriptions, medical documents, or any health-related content. You can upload files, share URLs, or simply describe what you'd like to know about your prescription.";case"medicine-search":return"Hi there! I'm here to help you find detailed information about medicines. Just tell me the name of any medication, and I'll provide you with usage instructions, dosage, side effects, interactions, and more from trusted medical databases.";case"question":return"Welcome! I'm your AI health assistant. Feel free to ask me any questions about medications, health conditions, symptoms, or general medical information. I'm here to provide you with accurate, helpful answers.";default:return"Hello! I'm your MediLens AI assistant. How can I help you today?"}},ge=()=>{switch(r){case"upload":return u.jsx(Pi,{className:"w-5 h-5"});case"medicine-search":return u.jsx(wl,{className:"w-5 h-5"});case"question":return u.jsx(Qn,{className:"w-5 h-5"});default:return u.jsx(Mu,{className:"w-5 h-5"})}},D=()=>{switch(r){case"upload":return"Prescription Analysis";case"medicine-search":return"Medicine Information";case"question":return"Health Questions";default:return"AI Assistant"}},N=async(k,E)=>{try{const I="https://nibirc.app.n8n.cloud/webhook/d8938a4c-77ac-4167-b87c-de1708b70371";console.log(" Sending request to webhook:",I);const U={message:k,attachment:E||"text",sessionid:h||"unknown"};console.log(" Request payload:",U);const z=await fetch(I,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","User-Agent":"MediLens-Chatbot/1.0"},body:JSON.stringify(U)});if(console.log(" Response status:",z.status),console.log(" Response headers:",Object.fromEntries(z.headers.entries())),!z.ok){const de=await z.text();throw console.error(" Error response:",de),new Error(`HTTP error! status: ${z.status} - ${de}`)}const G=await z.text();console.log(" Raw response:",G);let ae;try{ae=JSON.parse(G),console.log(" Parsed JSON response:",ae)}catch(de){return console.error(" Failed to parse JSON response:",de),G||"Received response from workflow but could not parse it."}return _(ae)}catch(I){throw console.error(" Error calling n8n webhook:",I),I instanceof TypeError&&I.message.includes("fetch")?(console.error(" Network error detected - check webhook URL and connectivity"),new Error("Network error: Unable to connect to the n8n webhook. Please verify the webhook URL is correct and accessible.")):new Error(`AI service error: ${I instanceof Error?I.message:"Unknown error occurred"}`)}},_=k=>{console.log(" Formatting JSON response:",k);const E=k.result||k.data||k.output||k.response||k;return E?typeof E=="string"?E:typeof E=="object"?y(E):String(E):"No result data found in the response."},y=k=>{let E="";return Array.isArray(k)?(k.forEach((I,U)=>{E+=`${U+1}. ${typeof I=="object"?y(I):I}
`}),E.trim()):(Object.entries(k).forEach(([I,U])=>{const z=I.replace(/([A-Z])/g," $1").replace(/^./,G=>G.toUpperCase());typeof U=="object"&&U!==null?E+=`**${z}:**
${y(U)}

`:Array.isArray(U)?(E+=`**${z}:**
`,U.forEach((G,ae)=>{E+=`  ${ae+1}. ${G}
`}),E+=`
`):E+=`**${z}:** ${U}
`}),E.trim())},j=async()=>{const k=v||a.trim();if(!k||c)return;const E=v?"image":"text",I={id:Date.now().toString(),type:"user",content:k,timestamp:new Date,attachmentType:E},U={id:(Date.now()+1).toString(),type:"bot",content:"",timestamp:new Date,isLoading:!0};o(z=>[...z,I,U]),l(""),x(""),d(!0),h&&await Ns({session_id:h,type:"user",content:k,attachment_type:E});try{const z=await N(k,E);o(G=>G.map(ae=>ae.id===U.id?{...ae,content:z,isLoading:!1}:ae)),h&&await Ns({session_id:h,type:"bot",content:z})}catch{const G="I apologize, but I encountered an error processing your request. Please try again or contact support if the issue persists.";o(ae=>ae.map(de=>de.id===U.id?{...de,content:G,isLoading:!1}:de)),h&&await Ns({session_id:h,type:"bot",content:G})}d(!1)},A=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),j())};return u.jsxs("div",{className:"chatbot-page min-h-screen bg-gradient-to-br from-[var(--bg-dark)] to-[var(--bg-secondary)] flex",children:[g&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>f(!1)}),u.jsxs("div",{className:`fixed lg:relative left-0 top-0 h-full w-80 bg-[var(--glass-bg)] backdrop-blur-[30px] border-r border-[var(--glass-border)] z-50 transform transition-transform duration-300 ${g?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:flex-shrink-0`,children:[u.jsxs("div",{className:"p-4 border-b border-[var(--glass-border)]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-[var(--text-primary)] font-['Orbitron'] font-semibold text-lg",children:"Chat Sessions"}),u.jsx("button",{onClick:()=>f(!1),className:"lg:hidden p-1 text-[var(--text-muted)] hover:text-[var(--text-primary)]",children:u.jsx(rs,{className:"w-5 h-5"})})]}),u.jsxs("button",{onClick:W,className:"w-full p-3 bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white rounded-xl font-medium transition-all duration-200 hover:shadow-[0_4px_12px_rgba(0,212,170,0.3)] flex items-center justify-center gap-2",children:[u.jsx(zm,{className:"w-4 h-4"}),"New Chat"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:b.length===0?u.jsxs("div",{className:"text-center text-[var(--text-muted)] py-8",children:[u.jsx(Qn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:"No chat sessions yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation"})]}):u.jsx("div",{className:"space-y-2",children:b.map(k=>u.jsx("div",{onClick:()=>X(k),className:`p-3 rounded-xl cursor-pointer transition-all duration-200 group relative ${h===k.id?"bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white":"bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.1)] text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-medium text-sm truncate mb-1",children:k.title}),u.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-70",children:[u.jsx($m,{className:"w-3 h-3"}),u.jsx("span",{children:ke(k.updated_at)})]})]}),u.jsx("button",{onClick:E=>ce(k.id,E),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-[rgba(255,255,255,0.1)] rounded transition-all duration-200",children:u.jsx(Wm,{className:"w-3 h-3"})})]})},k.id))})})]}),u.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[u.jsx("div",{className:"header bg-[var(--glass-bg)] backdrop-blur-[30px] border-b border-[var(--glass-border)] p-4 sticky top-0 z-30",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>f(!0),className:"lg:hidden p-2 bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[rgba(255,255,255,0.15)] transition-all duration-200",children:u.jsx(Um,{className:"w-5 h-5"})}),u.jsx("button",{onClick:e,className:"back-btn p-2 bg-[rgba(255,255,255,0.1)] border border-[var(--glass-border)] rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[rgba(255,255,255,0.15)] transition-all duration-200",children:u.jsx(Lm,{className:"w-5 h-5"})}),u.jsx(Ci,{size:40}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-[var(--text-primary)] text-xl font-['Orbitron'] font-semibold flex items-center gap-2",children:[ge(),m||D()]}),u.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:"AI-powered healthcare assistant"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-[var(--text-secondary)] text-sm",children:t.name}),u.jsx(xl,{})]})]})}),u.jsxs("div",{className:"chat-container flex-1 flex flex-col p-4 max-w-4xl mx-auto w-full",children:[u.jsxs("div",{className:"messages-area flex-1 overflow-y-auto mb-4 space-y-4 pr-2",children:[i.map(k=>u.jsx("div",{className:`message-wrapper flex ${k.type==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`message max-w-[80%] p-4 rounded-2xl ${k.type==="user"?"bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white ml-12":"bg-[var(--glass-bg)] backdrop-blur-[20px] border border-[var(--glass-border)] text-[var(--text-primary)] mr-12"}`,children:[u.jsxs("div",{className:"message-header flex items-center gap-2 mb-2",children:[k.type==="user"?u.jsx(Hm,{className:"w-4 h-4"}):u.jsx(Mu,{className:"w-4 h-4 text-[var(--primary-cyan)]"}),u.jsx("span",{className:"text-sm font-medium",children:k.type==="user"?"You":"MediLens AI"}),u.jsx("span",{className:"text-xs opacity-70 ml-auto",children:k.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("div",{className:"message-content",children:k.isLoading?u.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[u.jsx(Fu,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Thinking..."})]}):u.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:k.content})})]})},k.id)),u.jsx("div",{ref:T})]}),u.jsxs("div",{className:"input-area bg-[var(--glass-bg)] backdrop-blur-[20px] border border-[var(--glass-border)] rounded-2xl p-4",children:[u.jsxs("div",{className:"flex items-end gap-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx("input",{ref:S,type:"text",value:v||a,onChange:k=>l(k.target.value),onKeyPress:A,placeholder:v?"Text extracted from file - press Enter to send":`Ask about ${D().toLowerCase()}...`,className:"w-full p-3 bg-[rgba(255,255,255,0.08)] border border-[var(--glass-border)] rounded-xl text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:border-[var(--primary-cyan)] focus:shadow-[0_0_0_3px_rgba(0,212,170,0.15)] resize-none",disabled:c,readOnly:!!v})}),u.jsx("button",{onClick:j,disabled:!a.trim()&&!v||c,className:"send-btn p-3 bg-gradient-to-r from-[var(--primary-cyan)] to-[var(--primary-purple)] text-white rounded-xl hover:shadow-[0_4px_12px_rgba(0,212,170,0.3)] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:transform hover:-translate-y-1",children:c?u.jsx(Fu,{className:"w-5 h-5 animate-spin"}):u.jsx(Fm,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"mt-2 text-xs text-[var(--text-muted)] text-center",children:"Press Enter to send  Upload files for OCR text extraction  This AI provides educational information only"})]})]})]})]})};function Ry(){const[t,e]=M.useState(null),[r,n]=M.useState("auth"),[s,i]=M.useState("question"),[o,a]=M.useState(void 0),[l,c]=M.useState("");wo.useEffect(()=>{(async()=>{var g;const P=await $i();P&&(e({email:P.email||"",name:((g=P.user_metadata)==null?void 0:g.name)||"User",id:P.id}),n("home"))})()},[]);const d=b=>{e(b),n("home")},h=async()=>{await h0(),e(null),n("auth")},p=b=>{i(b),a(void 0),c(""),n("chatbot")},v=(b,P)=>{i(b),a(void 0),c(P),n("chatbot")},x=()=>{n("home")};return u.jsx(qm,{children:u.jsxs("div",{className:"min-h-screen relative",children:[u.jsx(Cm,{}),r==="chatbot"&&t?u.jsx(Ay,{user:t,onBack:x,initialContext:s,sessionId:o,initialExtractedText:l}):t&&r==="home"?u.jsx(Ly,{user:t,onLogout:h,onNavigateToChatbot:p,onNavigateToChatbotWithText:v}):u.jsx(m0,{onLogin:d})]})})}bh(document.getElementById("root")).render(u.jsx(M.StrictMode,{children:u.jsx(Ry,{})}));
